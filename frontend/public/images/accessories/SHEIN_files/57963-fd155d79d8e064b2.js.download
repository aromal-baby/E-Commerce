"use strict";(self.webpackChunkSHEIN_W=self.webpackChunkSHEIN_W||[]).push([[57963,73106],{40011:(e,t,a)=>{a.d(t,{s:()=>i});var r=a(177279);const s=new Map([["daily_new","dailyNew"],["picks","sheinPicks"]]),i=({data:e,catInfo:t,type:a})=>{let i="store"===t.type?t.sub_type:t.type;try{i=s.get(i)||i,(({data:e,page:t,type:a})=>{if(!e||!["[object Error]","[object Object]"].includes(Object.prototype.toString.call(e)))return!1;const{code:s,status:i}=e;if("0"===s||"undefined"==typeof window)return!1;const o={cmdbName:"pc",href:window.location.href,requestType:a,requestPage:t};let l=null,c=null;if("[object Error]"===Object.prototype.toString.call(e))l={code:"codeTypeError",page:t,type:a,from:"xhr"},o.errName=e.name||"unknown_code_error",c={message:e.message,name:e.name||"unknown_code_error",stack:e.stack};else if("[object Object]"===Object.prototype.toString.call(e))if(l={code:s||i,page:t,type:a,from:"xhr"},e.response){var n,d,u,_,p,g,m,f,y,h,I,v,T;const t=(null===(n=e.response)||void 0===n||null===(d=n.headers)||void 0===d?void 0:d["x-gw-traceid"])||(null===(u=e.config)||void 0===u||null===(_=u.headers)||void 0===_?void 0:_["uber-trace-id"]);o.requestPath=null===(p=e.config)||void 0===p?void 0:p.url,o.errName=e.name||"unknown_request_error",o.status=null===(g=e.response)||void 0===g?void 0:g.status,c={traceid:t,message:e.message,code:e.code,requestCode:null===(m=e.response)||void 0===m?void 0:m.status,responseHeaders:null===(f=e.response)||void 0===f?void 0:f.headers,requestParams:null===(y=e.config)||void 0===y?void 0:y.params,requestData:null===(h=e.config)||void 0===h?void 0:h.data};const a=(null===(I=e.response)||void 0===I?void 0:I.data)||{};null!==(v=e.response)&&void 0!==v&&null!==(T=v.data)&&void 0!==T&&T.code&&(o.code=a.code,c.responseData={code:a.code,msg:a.msg})}else e.code&&(o.code=e.code,c={responseData:{code:e.code,msg:e.msg}});l&&c&&(r.JY.metricCount({metric_name:"list_api_request_error_metric",tags:l}),r.Vc.logError({tag:"list_service_api_error.xhr",message:JSON.stringify(c||{}),params:o}))})({data:e,page:i,type:a})}catch(e){r.Vc.logError({tag:"list_service_api_error.xhr",params:{code:"handleTrackingAndLogging Error",page:i,type:a},message:{message:e.message,name:"handleTrackingAndLogging Error",stack:e.stack}})}}},127269:(e,t,a)=>{a.d(t,{ie:()=>l,jP:()=>c,qI:()=>o});var r=a(806365),s=a(369795);let i=null;const o=()=>{i=i||async function(){var e,t,a,i,o,l;if("undefined"==typeof window)return Promise.resolve();if("undefined"==typeof gbRawData)return Promise.resolve();if(null===(e=gbRawData)||void 0===e||null===(t=e.results)||void 0===t||!t.firstStrategyGoodsNum||(null===(a=gbRawData)||void 0===a||null===(i=a.results)||void 0===i?void 0:i.firstStrategyGoodsNum)<=0)return Promise.resolve();if(!c())return Promise.resolve();"scrollRestoration"in history&&(history.scrollRestoration="manual");const n={type:"firstLoad",query:{page:1,prePureGoods:1,...(0,r.J)(location.search)},loading:!1},d=(null===(o=gbRawData)||void 0===o?void 0:o.results.cat_info)||{},u=(null===(l=gbRawData.results)||void 0===l?void 0:l.atomicParams)||{},_=await(0,s._Z)({catInfo:d,searchKeywords:{},atomicParams:u,viewedGoods:[],request:n},{isPreFetch:!0}).catch((()=>({})));_&&!_.cat_info&&(_.cat_info=d||{});return _}()},l=()=>(i||o(),i);function c(){var e,t,a;return!("undefined"==typeof window||!window.gbRawData||!window.gbRawData.results)&&"store"===(null===(e=window.gbRawData)||void 0===e||null===(t=e.results)||void 0===t||null===(a=t.cat_info)||void 0===a?void 0:a.type)}},369795:(e,t,a)=>{a.d(t,{_Z:()=>oe,Hs:()=>_e,JP:()=>ue});const r=new Map([["daily_new",!0],["search",!0],["entity",!0],["selection",!0],["selling",!0],["picks",!0]]),s={SEARCH:{goods:"/product/get_products_by_keywords",filters:"/search/get_aggregation_filters",bannerCard:"/search/card/non_category_by_keywords"},REAL:{goods:"/category/real_category_goods_list",filters:"/category/real_category_attr_filter",cloudTag:"/category/real_category_tags"},SELEST:{goods:"/category/get_select_product_list",filters:"/category/select_category_attr_filter",cloudTag:"/category/select_category_tags"},SELLING:{goods:"/category/get_tags_goods_list",filters:"/category/get_tags_goods_list_filter",cloudTag:"/category/selling_category_tags"},PICKED:{goods:"/product/recommend/information_flow_selected_products",filters:"/product/recommend/information_flow_selected_filter",cloudTags:"/product/recommend/information_flow_selected_tags"},SHEIN_PICKS:{goods:"/category/get_products_by_discount_list",filters:"/category/get_discount_list_filter",cloudTag:"/category/discount_category_tags",navTabs:"/category/get_discount_cat"},USER_BEHAVIOR:{goods:"/category-api/recommend/get-user-behavior-products"},FEEDBACK_REC:{goods:"/product/recommend/feedback_products",filters:"/product/recommend/feedback_filter",cloudTags:"/product/recommend/feedback_tags"},DAILY_NEW:{goods:"/category/category_daily_new",filters:"/category/get_daily_new_filter",cloudTag:"/category/daily_new_category_tags"},COMMON:{categoryDay:"/category/select_category_day",showRecentDays:"/category/v2/category_daily_show_recent_days",buyboxEntrance:"/recommend/buybox/buybox_entrance",rankListComponent:"/category/rank_list_component",cccCommonComponent:"/ccc/common_component",discountChannelComp:"/recommend/discount/channel_component",sheinClubInfo:"/user-api/prime/info"},DISCOUNT:{goods:"/recommend/discount/channel_landing_page",tabs:"/recommend/discount/landing_page_discount_tabs"}};var i=a(383112),o=a(665640);function l(e,t){const a={},r={},s=Object.keys(e);function i(){Object.keys(e).forEach((l=>{a.hasOwnProperty(l)||r.hasOwnProperty(l)||!function(t){const r=e[t];if(Array.isArray(r))return r.slice(0,-1).every((e=>a.hasOwnProperty(e)));return!0}(l)||function(l){r[l]=!0;const c=e[l];if(Array.isArray(c)){const e=c.slice(0,-1),o=e.find((e=>!s.includes(e)));if(o)return void t(new Error(`async.auto task [${l}] has non-existent dependency in [${o}]`));const n=c[c.length-1],d=e.reduce(((e,t)=>(e[t]=a[t],e)),{});try{n(d,((e,s)=>{e?t(e,a):(a[l]=s,delete r[l],i())}))}catch(e){t(e)}}else{"function"!=typeof c&&o.log("task is not defined",l,typeof c);try{c(((e,s)=>{e?t(e,a):(a[l]=s,delete r[l],i())}))}catch(e){t(e)}}}(l)})),0===Object.keys(r).length&&t(null,a)}i()}function c(e){return new Promise(((t,a)=>{l(function(e={}){return Object.keys(e).reduce(((t,a)=>{const r=e[a];if(r instanceof Promise)return t[a]=e=>{r.then((t=>{e(null,t)})).catch((t=>{e(t)}))},t;if(Array.isArray(r)||"function"==typeof r)return t[a]=r,t;throw new Error(`task ${a} is not a valid task, typeof ${typeof r}`)}),{})}(e),((e,r)=>{e?a(e):t(r)}))}))}var n=a(692589);const d=e=>"object"==typeof e&&(0,n.I)(e)?null:e;var u=a(924965);const _=e=>"search"===e,p=(e,t)=>_(e)&&!g(e,t)&&!m(e,t)&&!f(e,t),g=(e,t)=>_(e)&&"store"===t.search_type,m=(e,t)=>_(e)&&"brand"===t.search_type,f=(e,t)=>_(e)&&"pageTrend"===t.search_type,y=e=>{if(e.pic_nav_adp)return e.pic_nav_adp;return["child_cat_id","attr_ids","brand_ids","tag_ids","min_price","max_price","pic_nav_id","tsp_ids"].some((t=>e[t]||0===e[t]))?"":e.adp||""},h=e=>{const{pic_nav_id:t="",search_source:a=""}=e;let r="";t&&(r=u.Fu.IMG_NAV);return u.sT.some((t=>e[t]))&&(r=u.Fu.USER_INPUT),r||a},I=e=>{if("object"!=typeof e||null===e)return e;const t={};for(const a in e)if(e.hasOwnProperty(a)){const r=e[a];null!=r&&""!==r&&(t[a]=r)}return t};function v({catInfo:e,searchKeywords:t}){if(!e.type)return{};let a,r;switch(e.type){case"store":return{store_code:e.store_code,type:e.sub_type,routeId:e.select_id};case"entity":a=e.entity_id;break;case"virtual":a=e.virtual_id;break;case"selection":a=e.select_id,r=e.sub_type;break;case"selling":a=e.tag_val_id;break;case"search":a=Number(t.is_suggest_res)?t.suggest_words:t.origin_words}return{type:e.type,routeId:a,sub_type:r}}function T({searchKeywords:e,catInfo:t,atomicParams:a,viewedGoods:r=[],request:s}){const{query:i={},type:o}=s,l={...v({catInfo:t,searchKeywords:e}),...i,requestType:o,force_suggest:"1"===e.double_lang_correct,reqSheinClub:a.reqSheinClub,isPaid:a.isPaid,viewed_goods:r.join()};return Object.keys(l).forEach((e=>{["min_price","max_price","isPaid","sourceStatus"].includes(e)&&0===Number(l[e])||!l[e]&&delete l[e]})),"search"===l.type&&(l.search_source=h(l)),l}const P=e=>{var t,a;const{request:r,catInfo:s,viewedGoods:i}=e,o=r.query||{},l="quickship"===o.tag_ids,c=o.mall_tag||"",n=c?o.tag_ids:"",d=o.mallCode||"",u=!(o.sil_without_entry||!o.sil_type);let _=o.attr_ids||"",p=l||c?"":o.tag_ids;return["0",0].includes(p)&&(p=""),{filter:_,tagIds:p,newSrcTabPageId:("string"==typeof s.new_src_tab_page_id?s.new_src_tab_page_id:"-")||"-",date:o.daily||"",catId:o.child_cat_id||"",chooseIds:o.choose_ids||"",urlMallCode:d,filterMallCode:n,mallCode:n||d,maxPrice:null!==(t=o.max_price)&&void 0!==t?t:"",minPrice:null!==(a=o.min_price)&&void 0!==a?a:"",filterTagIds:o.tsp_ids||"",quickship:l?"1":"",listCatId:u?o.list_cat_id:"",intentChannelId:o.intent_channel_id||"",brandId:s.brand_id||"",filterBrandIds:o.brand_ids||"",storeCode:o.store_code||"",sort:o.sort||"",source:s.source||"",sourceStatus:s.source_status||"",channelId:s.channel_id||"",limit:s.limit||120,filter_goods_infos:(i||[]).join(",")}},b=e=>{const{catInfo:t}=e,{type:a,sub_type:r}=t||{},s="store"===a?r:a;if("sheinPicks"===(null==t?void 0:t._type)){return{type:"sheinPicks",mainParams:{type:new Map([["entity",1],["selection",9]]).get(a),cat_id:t.picks_id}}}switch(s){case"search":return{type:"search",mainParams:{cate_type:4,keywords:t.keywords||""}};case"entity":return{type:"entity",mainParams:{cat_id:null==t?void 0:t.entity_id,cate_type:2}};case"selection":return{type:"selection",mainParams:{select_id:null==t?void 0:t.select_id,cate_type:1}};case"selling":return{type:"selling",mainParams:{tag_val_id:null==t?void 0:t.tag_val_id}};default:return{mainParams:{}}}},w=e=>!(e.sil_without_entry||!e.sil_type)?"ListSearchSort":"SearchPageSort",C=({catInfo:e,query:t})=>{let a=(null==t?void 0:t.src_identifier_pre_search)||"",r=["on","cn","hz","ps","jc"],s={};r.forEach((e=>{s[`src_identifier_${e}`]=""})),a&&"string"==typeof a&&a.split("`").forEach((e=>{let t=e.split("=")[0];r.includes(t)&&(s[`src_identifier_${t}`]=e.split("=")[1])}));let i="string"==typeof(null==e?void 0:e.src_tab_page_id)?null==e?void 0:e.src_tab_page_id:"";return{...s,src_module:(null==e?void 0:e.src_module)||"",src_tab_page_id:i.replace(/\d+$/,"")}},k=e=>{const{catInfo:t,searchKeywords:a,request:r}=e,s=r.query||{},{type:i,mainParams:o}=b(e),{newSrcTabPageId:l,quickship:c,filter:n,catId:d,filterBrandIds:u,filterTagIds:v,maxPrice:T,minPrice:k,tagIds:q,channelId:S,mallCode:E,serviceType:A,forceNotCorrect:R,listCatId:O,storeCode:D,intentChannelId:N}=P(e);let x={...o,quickship:c,filter:n,cat_id:d,filterBrandIds:u,filter_tag_ids:v,max_price:T,min_price:k,tag_ids:q,tag_type:s.tag_type||"",channelId:S,mall_code:E,force_not_correct:R,adp:y(s),is_force:s.is_force||"",sort:s.sort||"",source:s.source||"",source_status:s.source_status||"",page:s.page||1,limit:s.limit||120,context_info:C({catInfo:t,query:s})};var M,G;_(i)&&(Object.assign(x,{service_type:A,list_cat_id:O,force_suggest:null==a?void 0:a.double_lang_correct,src_tab_page_id:l||(null===(M=window)||void 0===M||null===(G=M.getSaPageInfo)||void 0===G?void 0:G.tab_page_id)||"-",poskey:w(t)}),p(i,s)?Object.assign(x,{scene:"all",search_source:h(s)}):f(i,s)?Object.assign(x,{scene:"trendChannel",search_source:h(s)}):g(i,s)?Object.assign(x,{scene:"store",store_code:D,ignore_direct:"true"}):m(i,s)&&Object.assign(x,{intent_channel_id:N,ignore_direct:"true",search_source:h(s)}));return x=I(x),x},q=e=>{const{request:t}=e,a=t.query||{},{type:r,mainParams:s}=b(e),{quickship:i,filter:o,catId:l,filterBrandIds:c,filterTagIds:n,maxPrice:d,minPrice:u,tagIds:y,channelId:h,serviceType:v,forceNotCorrect:T,listCatId:C,forceSuggest:k,intentChannelId:q,urlMallCode:S,filterMallCode:E,filter_goods_infos:A}=P(e);let R={...s,filter_goods_infos:A,quickship:i,filter:o,catId:l,filterBrandIds:c,filterTagIds:n,maxPrice:d,minPrice:u,tagIds:y,tag_type:a.tag_type||"",channelId:h,chooseTag:y,mallCode:E,forceNotCorrect:T,cancelFilterTagIds:n,needFilter:"1",needNavIndex:"0",needTagCloud:"1",positionAbt:"",maxDisc:"",mixDisc:"",enterMallCode:S,cancelFilter:"",chooseIds:a.choose_ids,showAllCategory:"1",selectAttributeGroup:a.selectAttributeGroup||""};return _(r)&&Object.assign(R,{serviceType:v,listCatId:C,forceSuggest:k,poskey:w(a)}),p(r,a)?Object.assign(R,{scene:"all"}):g(r,a)?Object.assign(R,{scene:"store",storeCode:a.store_code}):m(r,a)?Object.assign(R,{intentChannelId:q}):f(r,a)&&Object.assign(R,{scene:"trendChannel"}),R=I(R),R};var S=a(968928),E=a.n(S);const A=e=>{const{catInfo:t,request:a}=e,r=a.query||{},{mainParams:s}=b(e),i=["storeHomePage","storeTemplatePage"].includes(null==t?void 0:t.src_module)||"store"===t.fromPageType,{date:o,newSrcTabPageId:l,quickship:c,filter:n,catId:d,filterBrandIds:u,filterTagIds:_,maxPrice:p,minPrice:g,tagIds:m,channelId:f,brandId:h,urlMallCode:v,filterMallCode:T,sort:w,source:C,sourceStatus:k,filter_goods_infos:q}=P(e);let S={...s,brand_id:h,date:o,quickship:c,filter:n,filterBrandIds:u,cat_ids:r.cat_ids,cat_id:d,filter_tag_ids:_,max_price:p,min_price:g,tag_ids:m,channelId:f,mall_code_list:v,choosed_mall_code:T,page_name:t.pageName,src_tab_page_id:l||"-",entranceType:t.entranceType||"",sort:w,source:C,styleType:r.styleType||"",source_status:k||"",adp:y(r),page:r.page||1,limit:t.limit||120,from_store:Number(!!i),filter_goods_infos:q,usePage:1,_type:"selection"};return S=I(S),S},R=e=>{const{catInfo:t,request:a}=e,r=a.query||{},{mainParams:s}=b(e),{date:i,quickship:o,filter:l,catId:c,filterTagIds:n,brandId:d,maxPrice:u,minPrice:_,tagIds:p,chooseIds:g,filterBrandIds:m,urlMallCode:f,filterMallCode:y,sort:h}=P(e);let v={...s,brand_id:d,date:i,quickship:o,filter:l,filterBrandIds:m,cat_ids:r.cat_ids,cat_id:c,choosed_ids:g,filter_tag_ids:n,max_price:u,min_price:_,tag_ids:p,mall_code_list:f,choosed_mall_code:y,page_name:t.pageName,sort:h,styleType:r.styleType||"",showAllCategory:"1",selectAttributeGroup:r.selectAttributeGroup||"",_type:"selection"};return v=I(v),v},O=e=>{const{catInfo:t,request:a}=e,r=a.query||{},{mainParams:s}=b(e),i=["storeHomePage","storeTemplatePage"].includes(null==t?void 0:t.src_module)||"store"===t.fromPageType||r.store_code,{quickship:o,filter:l,catId:c,filterTagIds:n,maxPrice:d,minPrice:u,tagIds:_,urlMallCode:p,filterMallCode:g,sort:m}=P(e),f="quickship"===r.tag_ids,y=r.mall_tag||"";let h="";f?h="quickship":y||(h=_);let v={...s,quickship:o,filter:l,cat_ids:r.cat_ids,child_cat_id:c,filter_tag_ids:n,max_price:d,min_price:u,choosed_tag:h,choosed_mall_code:g,mall_code_list:p,sort:m,page_name:t.pageName,page:r.page||1,limit:t.limit||120,styleType:r.styleType||"",from_store:Number(!!i),_type:"selection"};return v=I(v),v},D=e=>{const{request:t}=e,a=t.query||{},{mainParams:r}=b(e);if("1"!=a.show_daily)return null;const{quickship:s,filter:i,catId:o,filterTagIds:l,maxPrice:c,minPrice:n,tagIds:d,urlMallCode:u,filterMallCode:_}=P(e);let p={...r,today:E()(Date.now()).format("YYYY-MM-DD"),quickship:s,filter:i,cat_ids:a.cat_ids,child_cat_id:o,filter_tag_ids:l,max_price:c,min_price:n,mall_code_list:u,choosed_mall_code:_,styleType:a.styleType||"",tag_ids:d,_show_daily:a.show_daily||"",_type:"selection"};return I(p)},N=e=>{const{catInfo:t,request:a}=e,r=a.query||{},{newSrcTabPageId:s,quickship:i,filter:o,catId:l,filterBrandIds:c,filterTagIds:n,maxPrice:d,minPrice:u,tagIds:_,channelId:p,urlMallCode:g,filterMallCode:m,sort:f,source:h,sourceStatus:v}=P(e);let T={quickship:i,filter:o,filterBrandIds:c,cat_ids:r.cat_ids,cat_id:l,filter_tag_ids:n,max_price:d,min_price:u,tag_ids:_,channelId:p,mall_code_list:m||g,src_tab_page_id:s,entranceType:t.entranceType||"",sort:f||0,source:h,styleType:r.styleType||"",source_status:v||"",page:r.page||1,limit:t.limit||120,filter_goods_infos:"",adp:y(r),srctype:"other",page_name:"page_daily_new",daily:r.daily,_type:"daily_new"};return T=I(T),T},x=e=>{const{request:t}=e,a=t.query||{},{quickship:r,filter:s,catId:i,filterTagIds:o,filterBrandIds:l,maxPrice:c,minPrice:n,tagIds:d,chooseIds:u,urlMallCode:_,filterMallCode:p}=P(e);let g={quickship:r,filter:s,filterBrandIds:l,cat_id:i,choosed_ids:u,filter_tag_ids:o,max_price:c,min_price:n,tag_ids:d,mall_code_list:p||_,styleType:a.styleType||"",showAllCategory:"1",selectAttributeGroup:a.selectAttributeGroup||"",daily:a.daily,page_name:"page_daily_new",_type:"daily_new"};return g=I(g),g},M=e=>{const{request:t}=e,a=t.query||{},{quickship:r,filter:s,catId:i,filterTagIds:o,maxPrice:l,minPrice:c,tagIds:n,urlMallCode:d,filterMallCode:u}=P(e),_="quickship"===a.tag_ids,p=a.mall_tag||"";let g="";_?g="quickship":p||(g=n);let m={quickship:r,filter:s,cat_id:i,filter_tag_ids:o,choosed_tag:g,max_price:l,min_price:c,mall_code_list:d,choosed_mall_code:u,styleType:a.styleType||"",kidRandom:a.kid_random||"",daily:a.daily,page_name:"page_daily_new",_type:"daily_new"};return m=I(m),m},G=e=>({...x(e),today:E()(Date.now()).format("YYYY-MM-DD"),choosed_ids:void 0}),H=e=>{const{catInfo:t,request:a}=e,r=a.query||{},{mainParams:s}=b(e),{newSrcTabPageId:i,quickship:o,filter:l,catId:c,filterBrandIds:n,filterTagIds:d,maxPrice:u,minPrice:_,tagIds:p,channelId:g,urlMallCode:m,filterMallCode:f,sort:h,source:v,sourceStatus:T,filter_goods_infos:w}=P(e);let C={...s,quickship:o,filter:l,filterBrandIds:n,cat_ids:r.cat_ids,child_cat_id:c,filter_tag_ids:d,max_price:u,min_price:_,tag_ids:p,channelId:g,mall_code_list:m,choosed_mall_code:f,page_name:t.pageName,src_tab_page_id:i,entranceType:t.entranceType||"",sort:h,source:v,styleType:r.styleType||"",source_status:T||"",adp:y(r),page:r.page||1,limit:t.limit||120,filter_goods_infos:w,_type:"entity"};return C=I(C),C},L=e=>{const{catInfo:t,request:a}=e,r=a.query||{},{mainParams:s}=b(e),{quickship:i,filter:o,catId:l,filterTagIds:c,filterBrandIds:n,maxPrice:d,minPrice:u,tagIds:_,chooseIds:p,urlMallCode:g,filterMallCode:m,sort:f}=P(e);let y={...s,quickship:i,filter:o,filterBrandIds:n,cat_ids:r.cat_ids,child_cat_id:l,choosed_ids:p,filter_tag_ids:c,max_price:d,min_price:u,tag_ids:_,mall_code_list:g,choosed_mall_code:m,page_name:t.pageName,sort:f,styleType:r.styleType||"",showAllCategory:"1",selectAttributeGroup:r.selectAttributeGroup||"",_type:"entity"};return y=I(y),y},j=e=>{const{catInfo:t,request:a}=e,r=a.query||{},{mainParams:s}=b(e),{quickship:i,filter:o,catId:l,filterTagIds:c,maxPrice:n,minPrice:d,tagIds:u,urlMallCode:_,filterMallCode:p,sort:g}=P(e),m="quickship"===r.tag_ids,f=r.mall_tag||"";let y="";m?y="quickship":f||(y=u);let h={...s,quickship:i,filter:o,cat_ids:r.cat_ids,child_cat_id:l,filter_tag_ids:c,max_price:n,min_price:d,choosed_tag:y,choosed_mall_code:p,mall_code_list:_,sort:g,page_name:t.pageName,page:r.page||1,limit:t.limit||120,styleType:r.styleType||"",_type:"entity"};return h=I(h),h},B=e=>{const{catInfo:t,request:a}=e,r=a.query||{},{mainParams:s}=b(e),{quickship:i,filter:o,catId:l,filterBrandIds:c,filterTagIds:n,maxPrice:d,minPrice:u,tagIds:_,urlMallCode:p,filterMallCode:g,sort:m}=P(e);let f={...s,adp:y(r),quickship:i,filter:o,filter_cat_id:l,filterBrandIds:c,filter_tag_ids:n,max_price:d,min_price:u,tag_ids:_,mall_code_list:g||p,sort:m||0,styleType:r.styleType||"",_type:"selling",page:r.page||1,limit:t.limit||120};return f=I(f),f},U=e=>{const{catInfo:t,request:a}=e,r=a.query||{},{mainParams:s}=b(e),{quickship:i,filter:o,catId:l,filterTagIds:c,maxPrice:n,minPrice:d,tagIds:u,chooseIds:_,filterBrandIds:p,urlMallCode:g,filterMallCode:m}=P(e);let f={...s,quickship:i,filter:o,filter_cat_id:l,filterBrandIds:p,choosed_ids:_,filter_tag_ids:c,max_price:n,min_price:d,tag_ids:u,mall_code_list:m||g,page_name:t.pageName,styleType:r.styleType||"",showAllCategory:"1",selectAttributeGroup:r.selectAttributeGroup||"",_type:"selling"};return f=I(f),f},F=e=>{const{request:t}=e,a=t.query||{},{mainParams:r}=b(e),{filter:s,catId:i,filterTagIds:o,maxPrice:l,minPrice:c,urlMallCode:n,filterMallCode:d}=P(e);let u={...r,filter:s,filter_cat_id:i,filter_tag_ids:o,max_price:l,min_price:c,mall_code_list:n,choosed_mall_code:d,styleType:a.styleType||"",_type:"selling"};return u=I(u),u},W=e=>{const{catInfo:t,request:a}=e,r=a.query||{},{mainParams:s}=b(e),i=["storeHomePage","storeTemplatePage"].includes(null==t?void 0:t.src_module)||"store"===t.fromPageType,{date:o,newSrcTabPageId:l,quickship:c,filter:n,catId:d,filterBrandIds:u,filterTagIds:_,maxPrice:p,minPrice:g,tagIds:m,channelId:f,brandId:h,urlMallCode:v,filterMallCode:T,sort:w,source:C,sourceStatus:k,filter_goods_infos:q}=P(e);let S={...s,brand_id:h,date:o,quickship:c,filter:n,filterBrandIds:u,cat_ids:r.cat_ids,child_cat_id:d,filter_tag_ids:_,max_price:p,min_price:g,tag_ids:m,channelId:f,mall_code_list:v,choosed_mall_code:T,page_name:t.pageName,src_tab_page_id:l||"-",entranceType:t.entranceType||"",sort:w,source:C,styleType:r.styleType||"",source_status:k||"",adp:y(r),page:r.page||1,limit:t.limit||120,from_store:Number(!!i),filter_goods_infos:q,usePage:1,_type:"sheinPicks"};return S=I(S),S},K=e=>{const{catInfo:t,request:a}=e,r=a.query||{},{mainParams:s}=b(e),{date:i,quickship:o,filter:l,catId:c,filterTagIds:n,brandId:d,maxPrice:u,minPrice:_,tagIds:p,chooseIds:g,filterBrandIds:m,urlMallCode:f,filterMallCode:y,sort:h}=P(e);let v={...s,brand_id:d,date:i,quickship:o,filter:l,filterBrandIds:m,cat_ids:r.cat_ids,child_cat_id:c,choosed_ids:g,filter_tag_ids:n,max_price:u,min_price:_,tag_ids:p,mall_code_list:f,choosed_mall_code:y,page_name:t.pageName,sort:h,styleType:r.styleType||"",showAllCategory:"1",selectAttributeGroup:r.selectAttributeGroup||"",_type:"sheinPicks"};return v=I(v),v},Y=e=>{const{catInfo:t,request:a}=e,r=a.query||{},{mainParams:s}=b(e),i=["storeHomePage","storeTemplatePage"].includes(null==t?void 0:t.src_module)||"store"===t.fromPageType||r.store_code,{quickship:o,filter:l,catId:c,filterTagIds:n,maxPrice:d,minPrice:u,tagIds:_,urlMallCode:p,filterMallCode:g,sort:m}=P(e),f="quickship"===r.tag_ids,y=r.mall_tag||"";let h="";f?h="quickship":y||(h=_);let v={...s,quickship:o,filter:l,cat_ids:r.cat_ids,child_cat_id:c,filter_tag_ids:n,max_price:d,min_price:u,choosed_tag:h,choosed_mall_code:g,mall_code_list:p,sort:m,page_name:t.pageName,page:r.page||1,limit:t.limit||120,styleType:r.styleType||"",from_store:Number(!!i),_type:"sheinPicks"};return v=I(v),v},V=e=>{const{request:t}=e,a=t.query||{};let r={};const s=(i=location.href,null===(o=i.match(/\/([a-z0-9]+-picks|romwe-[a-z]+|promo-discount)(-list-([a-zA-Z0-9]+))?\.html/))||void 0===o?void 0:o[1]);var i,o;return a.hrefTarget?r.pageId=a.hrefTarget:s&&(r.pageName=s),a.cacheKey&&(r.cacheKey=a.cacheKey),r};var $=a(973106);const Z=e=>{const{catInfo:t}=e,{type:a,sub_type:s}=t||{};let i;if("store"===a)i=!0;else{const e=r.get(a);var o;if("string"==typeof e)i=null===(o=(0,$.TZ)([e]))||void 0===o?void 0:o[e];else i=!!e}let l={nodeParams:T(e)||{},goodsParams:null,filterParams:null,cloudTagParams:null,categoryDayTagParams:null,navParams:null};if(i)switch(l.nodeParams.useBffProducts=!0,l.nodeParams.useBffFilters=!0,a){case"selling":l=Object.assign(l,(e=>({goodsParams:B(e),filterParams:U(e),cloudTagParams:F(e)}))(e),{method:"GET"});break;case"daily_new":l=Object.assign(l,(e=>({goodsParams:N(e),filterParams:x(e),cloudTagParams:M(e),categoryDayTagParams:G(e)}))(e));break;case"search":l=Object.assign(l,(e=>({goodsParams:k(e),filterParams:q(e)}))(e));break;case"entity":l=Object.assign(l,(e=>({goodsParams:H(e),filterParams:L(e),cloudTagParams:j(e)}))(e));break;case"selection":l=Object.assign(l,(e=>({goodsParams:A(e),filterParams:R(e),cloudTagParams:O(e),categoryDayTagParams:D(e)}))(e));break;case"picks":l=Object.assign(l,(e=>({goodsParams:W(e),filterParams:K(e),cloudTagParams:Y(e),navParams:V(e)}))(e));break;case"store":l="search"===s?Object.assign(l,(e=>{var t;const a=(null==e||null===(t=e.request)||void 0===t?void 0:t.query)||{},r={store_code:a.store_code,scene:"store"};a.rule_poskey&&(r.web_rule_poskey=a.rule_poskey);const s={ignore_direct:"true"};return a.force_send_adp&&(s.adp=a.pic_nav_adp||a.adp),{goodsParams:{...k(e),...r,...s},filterParams:{...q(e),...r}}})(e)):Object.assign(l,(e=>{var t;const a=(null==e||null===(t=e.request)||void 0===t?void 0:t.query)||{},r={store_code:a.store_code};a.rule_poskey&&(r.web_rule_poskey=a.rule_poskey);const s={};return a.force_send_adp&&(s.adp=a.pic_nav_adp||a.adp),{goodsParams:{...A(e),...r,...s},filterParams:{...R(e),...r},cloudTagParams:{...O(e),...r}}})(e))}return l};var J=a(40011),z=a(665640);const Q=({catInfo:e})=>{if(!e)throw new Error("catInfo is required");const{type:t,sub_type:a}=e,r="store"===t?a:t,{SEARCH:i,REAL:o,SELEST:l,COMMON:c,DAILY_NEW:n,SELLING:d,SHEIN_PICKS:u}=s;switch(r){case"search":return{goods:i.goods,filters:i.filters};case"entity":return{goods:o.goods,filters:o.filters,cloudTag:o.cloudTag};case"selection":return{goods:l.goods,filters:l.filters,cloudTag:l.cloudTag,showRecentDays:c.categoryDay};case"selling":return{goods:d.goods,filters:d.filters,cloudTag:d.cloudTag};case"daily_new":return{goods:n.goods,filters:n.filters,cloudTag:n.cloudTag,showRecentDays:c.showRecentDays};case"picks":return{goods:u.goods,filters:u.filters,cloudTag:u.cloudTag,navTabs:u.navTabs}}},X=new Map([["entity",1],["selection",9]]),ee=e=>{var t;const a=e.method||"POST",r=null===(t=Q(e))||void 0===t?void 0:t.goods;(0,i.A)({method:a,url:r,params:e.params,useBffApi:!0}).then((t=>{e.cb(null,t),(0,J.s)({data:t,catInfo:e.catInfo,type:"product"})})).catch((t=>{e.cb(null,t),(0,J.s)({data:t,catInfo:e.catInfo,type:"product"})}))},te=e=>{var t;const a=e.method||"GET",r=null===(t=Q(e))||void 0===t?void 0:t.filters;(0,i.A)({method:a,url:r,params:e.params,useBffApi:!0}).then((t=>{e.cb(null,t),(0,J.s)({data:t,catInfo:e.catInfo,type:"filter"})})).catch((t=>{e.cb(null,t),(0,J.s)({data:t,catInfo:e.catInfo,type:"product"})}))},ae=e=>{var t;const a=e.method||"GET",r=null===(t=Q(e))||void 0===t?void 0:t.cloudTag;(0,i.A)({method:a,url:r,params:e.params,useBffApi:!0}).then((t=>{e.cb(null,t),(0,J.s)({data:t,catInfo:e.catInfo,type:"cloudTag"})})).catch((t=>{e.cb(null,t),(0,J.s)({data:t,catInfo:e.catInfo,type:"cloudTag"})}))},re=async e=>{var t;const a=e.method||"GET",r=null===(t=Q(e))||void 0===t?void 0:t.navTabs;try{const t=await(0,i.A)({method:a,url:r,params:e.params,useBffApi:!0});return(0,J.s)({data:t,catInfo:e.catInfo,type:"nav"}),t}catch(t){return(0,J.s)({data:t,catInfo:e.catInfo,type:"nav"}),t}},se=e=>{var t;const a=e.method||"GET",r=null===(t=Q(e))||void 0===t?void 0:t.showRecentDays;(0,i.A)({method:a,url:r,params:e.params,useBffApi:!0}).then((t=>{e.cb(null,t),(0,J.s)({data:t,catInfo:e.catInfo,type:"days"})})).catch((t=>{e.cb(null,t),(0,J.s)({data:t,catInfo:e.catInfo,type:"days"})}))};async function ie({config:e,requertParams:t,isSheinPicks:a}){var r,s;const i=a?await re({...e,params:t.navParams}):{};let o=[];return"0"===i.code&&(null===(r=i.info)||void 0===r||null===(s=r.categories)||void 0===s?void 0:s.length)>0?(o=i.info.categories.map((e=>({adp:e.adp,id:e.cat_id,title:e.cat_name,image:e.image,hrefTarget:e.cat_id,hrefType:1===Number(e.type)?"realOne":"itemPicking",catChecked:!0}))),{curlCommand:(null==i?void 0:i.curlCommand)||"",...i.info,picksMenuList:o}):i.code||i.status?{error:i}:(a&&"0"!==i.code&&(0,J.s)({data:i,catInfo:e.catInfo,type:"nav"}),{})}async function oe(e){var t,a,r,s,o,l;const n=Z(e),d=1===(null===(t=e.request)||void 0===t||null===(a=t.query)||void 0===a?void 0:a.prePureGoods)&&1===(null===(r=e.request)||void 0===r||null===(s=r.query)||void 0===s?void 0:s.page),u="picks"===(null===(o=e.catInfo)||void 0===o?void 0:o.type),_="pageChange"!==(null===(l=e.request)||void 0===l?void 0:l.type)&&!d;let p={},g={},m=[],f={},y={},h={};var I,v;if((d||(p.nodeRes=e=>{(0,i.A)({url:"/api/productList/info/getAdultProduct",params:{}}).then((t=>{var a;e(null,{cat_info:{isAdultValid:null===(a=t.info)||void 0===a?void 0:a.isAdultValid}})}))}),n.navParams)&&(y=await ie({config:e,requertParams:n,isSheinPicks:u}),g=y.background||{},null!==(I=g)&&void 0!==I&&I.image&&g.image.src&&(g={...g,...g.image,imgSrc:g.image.src}),m=y.picksMenuList||[],null!==(v=m)&&void 0!==v&&v.length)){var T;const t=m[0],a=(null===(T=e.catInfo)||void 0===T?void 0:T.picks_id)||t.id||"",r=(a?m.find((e=>e.id==a)):null)||t;"realOne"===r.hrefType?(f.sub_type="entity",f.cat_id=r.id,f.entity_id=r.id):(f.sub_type="selection",f.select_id=r.id),f.picksType=y.pageId,f.adp=r.adp||"",f.picks_id=a,h={type:X.get(f.sub_type),adp:f.adp}}n.goodsParams&&(p.goods=t=>{e.request&&e.request.query&&(e.request.query={...e.request.query,...f}),ee({...e,method:n.method,params:{...n.goodsParams,...h},cb:t})}),n.filterParams&&_&&(p.filters=t=>{e.request&&e.request.query&&(e.request.query={...e.request.query,...f}),te({...e,method:n.method,params:{...n.filterParams,...h},cb:t})}),n.cloudTagParams&&_&&(p.cloudTags=t=>{ae({...e,method:n.method,params:{...n.cloudTagParams,...h},cb:t})}),n.categoryDayTagParams&&_&&(p.dailyDates=t=>{se({...e,params:n.categoryDayTagParams,cb:t})});let P={};try{P=await c(p)}catch(e){throw z.error("Error processing request queue:",e),e}var b;m.length>0&&(P.picksMenuList=m,P.topBanner=Object.keys(g).length>0?[g]:[],P.picksLink=(null===(b=y.picksLink)||void 0===b?void 0:b[y.pageId])||"");return le(e,P)}const le=(e,t)=>{const a=e.catInfo||{};try{if(null!=t&&t.goods){var r,s,i,o,l,c,n,u,_,p,g;const e=null!==(r=t.goods)&&void 0!==r?r:{},m=null!==(s=t.filters)&&void 0!==s?s:{},f=null!==(i=t.cloudTags)&&void 0!==i?i:{},y=null!==(o=t.dailyDates)&&void 0!==o?o:{},h=null!==(l=t.picksMenuList)&&void 0!==l?l:[],I=null!==(c=t.topBanner)&&void 0!==c?c:[],v=null!==(n=t.picksLink)&&void 0!==n?n:"",T="0"===e.code?{code:"0",...e.info}:{},P="0"===y.code?{code:"0",...y.info}:{};let b={};const{type:w,sub_type:C}=a,k="store"===w?C:w;"search"===k?b="0"===m.code?m.info:{}:["entity","selection","selling","daily_new","picks"].includes(k)&&(b=function({bffCateAttrResult:e,bffPicNavResult:t,bffCloudTagResult:a,bffDailyDatesResult:r},s={}){var i,o,l,c,n,d,u,_,p,g,m,f,y,h,I,v,T,P;const b="0"===(null==t?void 0:t.code)?t.info:{},w="0"===(null==e?void 0:e.code)?e.info:{},C="0"===(null==a?void 0:a.code)?a.info:{},k="0"===(null==r?void 0:r.code)?r.info:{},q={cateId:null!==(i=null==w?void 0:w.cateId)&&void 0!==i?i:"",show_adult_tip:(null==w?void 0:w.show_adult_tip)||(null==w?void 0:w.showAdultTip),tagSlotConfigs:null!==(o=null==C?void 0:C.tagSlotConfigs)&&void 0!==o?o:[],tags:null!==(l=null==C?void 0:C.tags)&&void 0!==l?l:[],filterList:null!==(c=null==w?void 0:w.filterList)&&void 0!==c?c:[],filterSortConfigs:null!==(n=null==w?void 0:w.filterSortConfigs)&&void 0!==n?n:[],attribute:null!==(d=null==w?void 0:w.attribute)&&void 0!==d?d:[],navs:null!==(u=null==b?void 0:b.navs)&&void 0!==u?u:[],list_nav_source:null!==(_=null==b?void 0:b.list_nav_source)&&void 0!==_?_:"",tabs:null!==(p=null==b?void 0:b.tabs)&&void 0!==p?p:[],min_price:null!==(g=null==w?void 0:w.min_price)&&void 0!==g?g:0,max_price:null!==(m=null==w?void 0:w.max_price)&&void 0!==m?m:0,cat_path:null!==(f=null==w?void 0:w.cat_path)&&void 0!==f?f:[],categories:null!==(y=null==w?void 0:w.categories)&&void 0!==y?y:[],all_categories:null!==(h=null==w?void 0:w.all_categories)&&void 0!==h?h:[],bannerTag:null!==(I=null==C?void 0:C.bannerTag)&&void 0!==I?I:{},tagChild:null!==(v=null==C?void 0:C.tagChild)&&void 0!==v?v:{},dailyDates:null!==(T=null==k?void 0:k.daily)&&void 0!==T?T:[],listPriceFilterValue:null!==(P=w.listPriceFilterValue)&&void 0!==P?P:""};return"picks"===(null==s?void 0:s.type)&&(q.picksCatId=w.selectId),q}({bffCateAttrResult:"0"===m.code?m:{},bffCloudTagResult:"0"===f.code?f:{},bffDailyDatesResult:"0"===y.code?y:{}},a));const q={...t.nodeRes,bffProductsInfo:T,bffFilterInfo:b,bffDailyDates:P,picksMenuList:h,topBanner:I,picksLink:v,errorInfo:{goods:t.goods&&"0"!==(null===(u=t.goods)||void 0===u?void 0:u.code)?d(e):null,filter:t.filters&&"0"!==(null===(_=t.filters)||void 0===_?void 0:_.code)?d(m):null,cloudTags:t.cloudTags&&"0"!==(null===(p=t.cloudTags)||void 0===p?void 0:p.code)?d(f):null,dailyDates:t.dailyDates&&"0"!==(null===(g=t.dailyDates)||void 0===g?void 0:g.code)?d(y):null}};if(q.errorInfo.goods&&q.errorInfo.filter)throw new Error("Product API and Filter API fail!");return q}return t.nodeRes}catch(e){return z.error("Error in formatData:",e),{}}};var ce=a(806365),ne=a(127269);let de=null;const ue=()=>{de=de||async function(){var e,t,a,r,s,i,o;if("undefined"==typeof window)return Promise.resolve();if("undefined"==typeof gbRawData)return Promise.resolve();if(null===(e=gbRawData)||void 0===e||null===(t=e.results)||void 0===t||!t.firstStrategyGoodsNum||(null===(a=gbRawData)||void 0===a||null===(r=a.results)||void 0===r?void 0:r.firstStrategyGoodsNum)<=0)return Promise.resolve();if((0,ne.jP)())return Promise.resolve();"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=(null===(s=gbRawData.results)||void 0===s?void 0:s.atomicParams)||{},c=(null===(i=gbRawData.results)||void 0===i?void 0:i.cat_info)||{},n=(null===(o=gbRawData.results)||void 0===o?void 0:o.searchKeywords)||{},d={type:"firstLoad",query:{page:1,prePureGoods:1,...(0,ce.J)(location.search)}};return await oe({catInfo:c,searchKeywords:n,atomicParams:l,viewedGoods:[],request:d}).catch((()=>({})))}()},_e=()=>(de||ue(),de)},924965:(e,t,a)=>{a.d(t,{Fu:()=>s,P8:()=>l,iZ:()=>r,sT:()=>i});const r={EDIT_SEARCH:2,DEFAULT_SEARCH:3,SUGGESTION_SEARCH:4,RECENT_SEARCH:5,HOT_SEARCH:6,SUGGESTION_SEARCH_CATEGORY:7,SUGGESTION_SEARCH_FEEDBACK:8,HOT_SEARCH_PIC:9,LIST_FLOW:10,SEARCH_TREND:11,LIST_SEARCH:12,SEARCH_DISCOVERY:13,COMPOUND_SEARCH:15,SUGGSTION_ATTRI:18,CORRECT_ORIGINAL_WORD:19},s={USER_INPUT:1,ASSOCIATION:2,DEFAULT_WORD:3,HOT_WORD:4,TREND_WORD:5,IMG_NAV:6},i=["child_cat_id","attr_ids","tag_ids","min_price","max_price"],o={EDIT_SEARCH:s.USER_INPUT,DEFAULT_SEARCH:s.DEFAULT_WORD,SUGGESTION_SEARCH:s.ASSOCIATION,RECENT_SEARCH:s.USER_INPUT,HOT_SEARCH:s.HOT_WORD,SUGGESTION_SEARCH_CATEGORY:s.ASSOCIATION,SUGGESTION_SEARCH_FEEDBACK:s.ASSOCIATION,HOT_SEARCH_PIC:s.HOT_WORD,LIST_FLOW:s.HOT_WORD,SEARCH_TREND:s.TREND_WORD,LIST_SEARCH:s.HOT_WORD,SEARCH_DISCOVERY:s.HOT_WORD,COMPOUND_SEARCH:s.USER_INPUT,SUGGSTION_ATTRI:s.ASSOCIATION,CORRECT_ORIGINAL_WORD:s.USER_INPUT},l=e=>{const[t]=Object.entries(r).filter((([,t])=>t===Number(e)))[0]||[];return t?o[t]:s.USER_INPUT}},973106:(e,t,a)=>{a.d(t,{TZ:()=>_,Ux:()=>g,pj:()=>p});const r=["hk","mhk","rw","rwm"],s=r.concat(["id","mid","in","pwin","ru","mru","ma","pwma","vn","mvn","roe","mroe","ch","mch","se","mse","rwar","rwmx","rwau","rwca","rwit","rwes","rwde","rwfr","rwuk","rwus","rwmar","rwmmx","rwmau","rwmca","rwmit","rwmes","rwmde","rwmfr","rwmuk","rwmus"]),i=s.concat(["asia","masia","my","mmy","th","mth","tw","mtw","ph","mph","pt","mpt","nl","pwnl","pl","mpl"]),{SiteUID:o,NEW_BFF_VERSION_SWTICH:l,SSR_BFF_SWITCH:c,PAYMENT_CODE_BFF_SWITCH:n}=gbCommonInfo,d={LEVEL1:r,LEVEL2:s,LEVEL3:i},u=(e,t=l)=>t?e.reduce(((e,a)=>{const r=t[a];if(r)if(1===r.length){var s;const t=r[0];e[a]="OPENALL"===t||t===o||(null===(s=d[t])||void 0===s?void 0:s.includes(o))||!1}else e[a]=r.includes(o);else e[a]=!1;return e}),{}):e.reduce(((e,t)=>(e[t]=!1,e)),{});function _(e){return u(e)}function p(e){return u(e,c)}const g=({features:e,paymentCode:t})=>{const a=_(e);if(e.some((e=>!a[e])))return!1;const r=null==n?void 0:n[t];return!r||!t||!!Array.isArray(r)&&(r.includes(o)||r.includes("OPENALL"))}}}]);
//# sourceMappingURL=57963-fd155d79d8e064b2.js.map