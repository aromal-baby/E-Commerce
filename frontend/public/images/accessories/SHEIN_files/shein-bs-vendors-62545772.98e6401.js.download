"use strict";(self.webpackChunkark=self.webpackChunkark||[]).push([[545],{"4Z2S":(e,t,n)=>{n.d(t,{Mo:()=>Te,Mq:()=>Ce,PP:()=>Ae,WT:()=>Ie});var a,r,i,o,c,l,s,u,d,p=n("6ARB"),h=n("ZJZb"),v=n("2jEV"),f=n("4ZC2"),g=n("Cnx2"),m=n("1WM/"),y=n("QMV9"),w=n("qItV"),_=n.n(w),b=n("oK+e"),C=n.n(b),k=n("U8cm"),S=n.n(k),T=n("Gm+S"),A=n.n(T),I=n("xsts"),x=n.n(I),E=n("D5Ip"),D=n.n(E),R=n("N1wU"),P=n.n(R),H=n("HJGT"),W=n.n(H),L=n("5k+Q"),B=n.n(L),F=n("q5KV"),N=n.n(F),M=n("dijo"),O=n.n(M),K=n("dWHw"),z=n.n(K),U=n("NF0W"),j=n.n(U),$=n("CtJl"),G=n.n($),q=n("twzR"),Q=n("139g"),Z=n("2QGG"),X=_(),V=function(e){throw TypeError(e)},J=function(e,t,n){return function(e,t,n){return t in e?X(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==(0,y.A)(t)?t+"":t,n)},Y=function(e,t,n){return t.has(e)||V("Cannot "+n)},ee=function(e,t,n){return Y(e,t,"read from private field"),n?n.call(e):t.get(e)},te=function(e,t,n){return t.has(e)?V("Cannot add the same private member more than once"):t instanceof C()?t.add(e):t.set(e,n)},ne=function(e,t,n,a){return Y(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n},ae=function(e,t,n){return Y(e,t,"access private method"),n},re=function(){return(0,m.A)(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,g.A)(this,e),te(this,a),te(this,r),te(this,i),te(this,o),te(this,c),te(this,l),ne(this,a,(0,q._t)()),ne(this,r,t+"__byCartTagTip"),ne(this,i,void 0),ne(this,o,n),ne(this,c,n.initCallback),ne(this,l,n.setCallback),n.disabledSession?ne(this,i,{data:null}):this.init(n)},[{key:"init",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!=typeof window){var n={langPath:ee(this,a).$envs.langPath,currency:ee(this,a).$envs.currency,isLogin:ee(this,a).$getters.isLogin},o=JSON.parse(window.sessionStorage.getItem(ee(this,r))||"{}"),l=!o,s=!l&&(o.langPath!==n.langPath||o.currency!==n.currency||o.isLogin!==n.isLogin);(l||s||t.clear)&&(o=(0,f.A)({data:null},n),window.sessionStorage.setItem(ee(this,r),S()(o))),ne(this,i,o),null==(e=ee(this,c))||e.call(this,o)}}},{key:"get",value:function(){return ee(this,i).data}},{key:"set",value:function(e){var t;ee(this,i).data=e,ee(this,o).disabledSession||window.sessionStorage.setItem(ee(this,r),S()(ee(this,i))),null==(t=ee(this,l))||t.call(this,ee(this,i))}},{key:"clear",value:function(){window.sessionStorage.removeItem(ee(this,r))}}])}();a=new(A()),r=new(A()),i=new(A()),o=new(A()),c=new(A()),l=new(A());var ie=["freeshipping","save","gift"],oe={freeshipping:"freeshipping",save:"save",gift:"gift",mark_down:"lowerafteradd",oos:"lowstock",flash_sale:"flash",coupon:"cartcoupon",order_return_coupon:"returncoupon"},ce=function(e){return x()(ie).call(ie,e)},le=function(e){return!!e&&("save"===e.type?e.text&&e.text.length>7?"SAVE":e.text:ce(e.type))},se=function(e){return!!e&&("save"===e.type?e.text:ce(e.type))},ue=function(e){var t,n,a,r,i,o,c;return e.lurePointItem?{tag:!1,tagText:"",type:oe[e.type],realType:e.type,totalPrice:"",category:null,tip:de(e),tips:null==(t=e.lurePointItem.bubble)?void 0:t.clickText,isPopover:!0,clickBtnText:null==(n=e.lurePointItem.bubble)?void 0:n.clickBtnText,goods:null==(a=e.lurePointItem.bubble)?void 0:a.goods,goodsNum:null==(r=e.lurePointItem.bubble)?void 0:r.goodsNum,cartIds:e.lurePointItem.cartIds,iconText:null==(i=e.lurePointItem.bubble)?void 0:i.iconText,iconTextOff:null==(o=e.lurePointItem.bubble)?void 0:o.iconTextOff,lurePointItemType:e.lurePointItem.type,lurePointItemHasChecked:e.lurePointItem.hasChecked,couponNum:null==(c=e.lurePointItem.bubble)?void 0:c.couponNum,identify:e.lurePointItem.identify}:de(e)},de=function(e){var t=e.htmlText||"";return t||(t=e.text||"",e.desc&&(t&&(t+="<br/>"),t+=e.desc)),t},pe=function(e,t){return t&&e.type===t.type?ue(t):""},he=function(e,t){return t&&e.type===t.type?de(t):""},ve=function(e,t){var n,a,r,i,o,c,l,s,u;if(!e)return[];var d=e.newLabel,p=e.showLabel,h=e.bubble,v=[];(null==d?void 0:d.type)&&(null==p?void 0:p.type)&&d.type!==p.type&&ce(d.type)&&v.push({tag:le(d),tagText:se(d),totalPrice:null==t?void 0:t.amountWithSymbol,type:oe[d.type],realType:d.type,category:d.freeShippingType,lurePointItemType:null==(n=d.lurePointItem)?void 0:n.type,lurePointItemHasChecked:null==(a=d.lurePointItem)?void 0:a.hasChecked,couponNum:null==(i=null==(r=d.lurePointItem)?void 0:r.bubble)?void 0:i.couponNum,identify:null==(o=d.lurePointItem)?void 0:o.identify,tip:he(d,h),tips:pe(d,h)});var g="",m="";if((null==p?void 0:p.type)||(null==d?void 0:d.type)||(null==h?void 0:h.type)){var w=p||d;!v.length&&(null==h?void 0:h.type)&&(g=de(h),m=ue(h)),w?v.push({tag:le(w),tagText:se(w),totalPrice:null==t?void 0:t.amountWithSymbol,type:oe[w.type],realType:w.type,category:w.freeShippingType,lurePointItemType:null==(c=w.lurePointItem)?void 0:c.type,lurePointItemHasChecked:null==(l=w.lurePointItem)?void 0:l.hasChecked,couponNum:null==(s=w.lurePointItem)?void 0:s.bubble.couponNum,identify:null==(u=w.lurePointItem)?void 0:u.identify,tip:g,tips:m}):m&&"object"===(0,y.A)(m)&&v.push((0,f.A)((0,f.A)({},m),{},{totalPrice:null==t?void 0:t.amountWithSymbol}))}return v.length?v:[{tag:!1,tagText:"",totalPrice:null==t?void 0:t.amountWithSymbol,type:"",realType:"",category:null,tip:g,tips:m,noTips:!0,excludeScroll:!1}]},fe=function(){return(0,m.A)(function e(){(0,g.A)(this,e),J(this,"HeaderCarts",[]),J(this,"FooterCarts",[]),J(this,"QuickCarts",[])},[{key:"register",value:function(e,t,n){switch(e){case"header-cart":if(null==n?void 0:n.only)this.HeaderCarts=[t];else{var a;if(D()(a=this.HeaderCarts).call(a,function(e){return e===t}))return;this.HeaderCarts.push(t)}break;case"footer-cart":if(null==n?void 0:n.only)this.FooterCarts=[t];else{var r;if(D()(r=this.FooterCarts).call(r,function(e){return e===t}))return;this.FooterCarts.push(t)}break;case"quick-cart":if(null==n?void 0:n.only)this.QuickCarts=[t];else{var i;if(D()(i=this.QuickCarts).call(i,function(e){return e===t}))return;this.QuickCarts.push(t)}break;default:throw new Error("this is an invalid type: ".concat(e,". valid types: header-cart, footer-cart, quick-cart"))}}},{key:"unregister",value:function(e,t){var n,a,r;switch(e){case"header-cart":this.HeaderCarts=P()(n=this.HeaderCarts).call(n,function(e){return e!==t});break;case"footer-cart":this.FooterCarts=P()(a=this.FooterCarts).call(a,function(e){return e!==t});break;case"quick-cart":this.QuickCarts=P()(r=this.QuickCarts).call(r,function(e){return e!==t});break;default:throw new Error("this is an invalid type: ".concat(e,". valid types: header-cart, footer-cart, quick-cart"))}}},{key:"triggerQuickCartsShowtime",value:function(e,t){var n;this.QuickCarts.length&&W()(n=this.QuickCarts).call(n,function(n){var a;null==(a=n.showtime)||a.call(n,e,t)})}},{key:"triggerHeaderCartsShowtime",value:function(e,t){var n;this.HeaderCarts.length&&W()(n=this.HeaderCarts).call(n,function(n){var a;null==(a=n.showtime)||a.call(n,e,t)})}},{key:"triggerFooterCartsShowtime",value:function(e,t){var n;this.FooterCarts.length&&W()(n=this.FooterCarts).call(n,function(n){var a;null==(a=n.showtime)||a.call(n,e,t)})}},{key:"triggerQuickCartsShowtimeByBff",value:function(e,t){var n;this.QuickCarts.length&&W()(n=this.QuickCarts).call(n,function(n){var a;null==(a=n.showtimeByBff)||a.call(n,e,t)})}},{key:"triggerHeaderCartsShowtimeByBff",value:function(e,t){var n;this.HeaderCarts.length&&W()(n=this.HeaderCarts).call(n,function(n){var a;null==(a=n.showtimeByBff)||a.call(n,e,t)})}},{key:"triggerFooterCartsShowtimeByBff",value:function(e,t){var n;this.FooterCarts.length&&W()(n=this.FooterCarts).call(n,function(n){var a;null==(a=n.showtimeByBff)||a.call(n,e,t)})}},{key:"triggerShowtime",value:function(e,t){var n=this;if(e.length||e.push({type:"default",realType:"",tag:!1,tips:"",category:null}),this.QuickCarts.length)this.triggerQuickCartsShowtime(e,{callback:function(){var a;if(n.HeaderCarts.length){var r=(0,v.A)(e).pop();r&&n.triggerHeaderCartsShowtime([(0,f.A)((0,f.A)({},r),{},{noTips:!0})])}null==(a=null==t?void 0:t.callback)||a.call(t)}});else if(this.FooterCarts.length)this.triggerFooterCartsShowtime(e,{callback:function(){var a;if(n.HeaderCarts.length){var r=(0,v.A)(e).pop();r&&n.triggerHeaderCartsShowtime([(0,f.A)((0,f.A)({},r),{},{noTips:!0})])}null==(a=null==t?void 0:t.callback)||a.call(t)}});else if(this.HeaderCarts.length){var a,r=e[0];return x()(a=["freeshipping","save","gift"]).call(a,null==r?void 0:r.realType)?(null==r?void 0:r.tips)&&"object"===(0,y.A)(r.tips)?"gift"===r.type?void this.triggerHeaderCartsShowtime([(0,f.A)((0,f.A)({},r),{},{tips:r.tip||""})],{callback:null==t?void 0:t.callback}):void this.triggerHeaderCartsShowtime([e[e.length-1]],{callback:null==t?void 0:t.callback}):void this.triggerHeaderCartsShowtime(e,{callback:null==t?void 0:t.callback}):void this.triggerHeaderCartsShowtime([{type:"default",realType:"",tag:!1,totalPrice:null==r?void 0:r.totalPrice,tip:null==r?void 0:r.tip,tips:null==r?void 0:r.tips,noTips:null==r?void 0:r.noTips,category:null}],{callback:null==t?void 0:t.callback})}}},{key:"triggerShowtimeByBff",value:function(e,t){var n=this;this.QuickCarts.length?this.triggerQuickCartsShowtimeByBff(e,(0,f.A)((0,f.A)({},t),{},{callback:function(){var a;if(n.HeaderCarts.length){n.triggerHeaderCartsShowtimeByBff(e,(0,f.A)((0,f.A)({},t),{},{noTips:!0}));var r=ve(e.appStyleControl,e.totalPrice).pop()||{};n.triggerHeaderCartsShowtime([(0,f.A)((0,f.A)({},r),{},{noTips:!0})])}null==(a=null==t?void 0:t.callback)||a.call(t)}})):this.FooterCarts.length?this.triggerFooterCartsShowtimeByBff(e,(0,f.A)((0,f.A)({},t),{},{callback:function(){var a;if(n.HeaderCarts.length){n.triggerHeaderCartsShowtimeByBff(e,(0,f.A)((0,f.A)({},t),{},{noTips:!0}));var r=ve(e.appStyleControl,e.totalPrice).pop()||{};n.triggerHeaderCartsShowtime([(0,f.A)((0,f.A)({},r),{},{noTips:!0})])}null==(a=null==t?void 0:t.callback)||a.call(t)}})):this.HeaderCarts.length&&this.triggerHeaderCartsShowtimeByBff(e,(0,f.A)((0,f.A)({},t),{},{callback:null==t?void 0:t.callback}))}},{key:"triggerQuickCartsEndtime",value:function(e){var t;W()(t=this.QuickCarts).call(t,function(t){var n;null==(n=t.endtime)||n.call(t,e)})}},{key:"triggerHeaderCartsEndtime",value:function(){var e;W()(e=this.HeaderCarts).call(e,function(e){var t;null==(t=e.endtime)||t.call(e)})}},{key:"triggerFooterCartsEndtime",value:function(){var e;W()(e=this.FooterCarts).call(e,function(e){var t;null==(t=e.endtime)||t.call(e)})}},{key:"triggerEndtime",value:function(){this.triggerFooterCartsEndtime(),this.triggerHeaderCartsEndtime()}}])}(),ge=function(){return(0,m.A)(function e(){(0,g.A)(this,e),J(this,"promise"),J(this,"resolve"),J(this,"state"),this.promise=null,this.resolve=null,this.state="pending",this.init()},[{key:"init",value:function(){var e=this;this.promise=new(B())(function(t){e.resolve=function(n){e.state="fulfilled",t(n)}})}}])}(),me=function(){return(0,m.A)(function e(t){(0,g.A)(this,e),J(this,"callback"),J(this,"eventListenerCallback"),J(this,"timer"),J(this,"scrolling"),this.callback=t,this.eventListenerCallback=null,this.timer=null,this.scrolling=!1,this.init()},[{key:"init",value:function(){var e=this;if("undefined"!=typeof window&&!this.eventListenerCallback){var t=(0,Q.n)({func:function(){var t;e.timer&&e.clear(),e.scrolling=!0,null==(t=e.callback)||t.call(e,!0),e.timer=N()(function(){var t;e.scrolling=!1,null==(t=e.callback)||t.call(e,!1)},600)},wait:500,options:{trailing:!1}});this.eventListenerCallback=t,window.addEventListener("scroll",t)}}},{key:"clear",value:function(){clearTimeout(this.timer),this.timer=null}}])}(),ye=(0,q._t)(),we=function(){var e=(0,h.A)((0,p.A)().m(function e(t){var n;return(0,p.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,ye.$schttp({method:"POST",url:"/order/cart/get_entrance_guide",data:t,headers:{AppCurrency:ye.$envs.currency,AppLanguage:ye.$envs.appLanguage,"frontend-scene":"page_web_common"}});case 1:return n=e.v,e.a(2,n.data)}},e)}));return function(t){return e.apply(this,arguments)}}(),_e=(0,q._t)(),be=function(){var e=(0,h.A)((0,p.A)().m(function e(){var t;return(0,p.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,_e.$schttp({url:"/order/get_cart_goods_sum_quantity",headers:{AppCurrency:_e.$envs.currency,AppLanguage:_e.$envs.appLanguage,"frontend-scene":"page_web_common"}});case 1:return t=e.v,e.a(2,t.data)}},e)}));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e="undefined"!=typeof window,t=(0,Z.KR)(0);e&&(t=window.__cartNum__||(window.__cartNum__=(0,Z.KR)(0)));return{cartNum:t,update:function(n){var a=n.num;e&&(t.value=a||0)}}},ke=function(){return(0,m.A)(function e(){(0,g.A)(this,e),te(this,s),J(this,"appConfigs"),J(this,"initPromiseActuator",new ge),J(this,"preRequestPromiseActuator"),J(this,"scrollEventListener"),J(this,"config",{autoUseCoupon:!0,maxTip:3,requestType:1,disabledTagTip:!1,disabledFirstTimeTip:!1,disabledScrollEventListener:!1}),J(this,"cache"),J(this,"cartHorizontalLurePointInfo"),J(this,"cartManager"),this.appConfigs=(0,q._t)(),this.cartManager=new fe},[{key:"initialize",value:(w=(0,h.A)((0,p.A)().m(function e(){var t,n,a,r=this,i=arguments;return(0,p.A)().w(function(e){for(;;)switch(e.n){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},"undefined"!=typeof window){e.n=1;break}return e.a(2);case 1:if(n=O()({needUpdateCartNum:!0,refresh:!1},t),a=[],n.needUpdateCartNum&&a.push(this.updateCartNum()),n.disabledScrollEventListener||this.scrollEventListener||(this.scrollEventListener=new me(function(e){e&&r.triggerEndtime()})),"boolean"==typeof n.disabledTagTip&&(this.config.disabledTagTip=n.disabledTagTip),"boolean"==typeof n.disabledFirstTimeTip&&(this.config.disabledFirstTimeTip=n.disabledFirstTimeTip),"function"==typeof n.getCountryId&&(this.config.getCountryId=n.getCountryId),"boolean"==typeof n.autoUseCoupon&&(this.config.autoUseCoupon=n.autoUseCoupon),!0!==this.config.disabledTagTip){e.n=3;break}return e.n=2,B().all(a);case 2:return this.initPromiseActuator.resolve(),e.a(2);case 3:return this.cache={lure:new re("lure",{clear:n.refresh,disabledSession:n.disabledCache}),apiData:new re("apiDataCache",{clear:n.refresh,disabledSession:n.disabledCache}),exposeData:new re("exposeData",{clear:n.refresh,disabledSession:n.disabledCache}),onceTip:new re("onceTip",{clear:n.refresh,disabledSession:n.disabledCache}),tipTotal:new re("tipTotal",{clear:n.refresh,disabledSession:n.disabledCache}),excludeBubbles:new re("excludeBubbles",{clear:n.refresh,disabledSession:n.disabledCache}),totalPrice:new re("totalPrice",{clear:n.refresh,disabledSession:n.disabledCache}),cartList:new re("cartList",{clear:n.refresh,disabledSession:n.disabledCache})},this.cache.lure.get()&&!n.refresh||a.push(ae(this,s,d).call(this,{requestType:1})),e.n=4,B().all(a);case 4:this.initPromiseActuator.resolve();case 5:return e.a(2)}},e,this)})),function(){return w.apply(this,arguments)})},{key:"refresh",value:(y=(0,h.A)((0,p.A)().m(function e(){var t,n=arguments;return(0,p.A)().w(function(e){for(;;)switch(e.n){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.n=1,this.initPromiseActuator.promise;case 1:if(!this.config.disabledTagTip){e.n=2;break}return e.a(2);case 2:return e.n=3,this.initialize((0,f.A)((0,f.A)({},t),{},{refresh:!0}));case 3:return e.n=4,this.initPromiseActuator.promise;case 4:this.triggerShowtime({noTips:!0}),this.triggerShowtimeByBff({noTips:!0});case 5:return e.a(2)}},e,this)})),function(){return y.apply(this,arguments)})},{key:"preRequest",value:(l=(0,h.A)((0,p.A)().m(function e(){var t,n=arguments;return(0,p.A)().w(function(e){for(;;)switch(e.n){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.n=1,this.initPromiseActuator.promise;case 1:if(!this.config.disabledTagTip){e.n=2;break}return e.a(2);case 2:return e.a(2,ae(this,s,u).call(this,t))}},e,this)})),function(){return l.apply(this,arguments)})},{key:"showtime",value:(c=(0,h.A)((0,p.A)().m(function e(){var t,n,a,r=arguments;return(0,p.A)().w(function(e){for(;;)switch(e.n){case 0:return(t=r.length>0&&void 0!==r[0]?r[0]:{}).needUpdateCartNum&&this.updateCartNum(t.cartInfo),e.n=1,this.initPromiseActuator.promise;case 1:if(!this.config.disabledTagTip){e.n=2;break}return e.a(2);case 2:if(!this.preRequestPromiseActuator){e.n=4;break}return e.n=3,this.preRequestPromiseActuator.promise;case 3:a=e.v,this.preRequestPromiseActuator=void 0,e.n=6;break;case 4:return e.n=5,ae(this,s,d).call(this,{requestType:2,lureScene:t.lureScene,excludeUniqueType:t.excludeUniqueType});case 5:a=e.v;case 6:if(a){e.n=7;break}return null==(n=t.callback)||n.call(t),e.a(2,"/order/cart/get_entrance_guide 接口异常");case 7:this.triggerShowtime({callback:t.callback}),this.triggerShowtimeByBff(t);case 8:return e.a(2)}},e,this)})),function(){return c.apply(this,arguments)})},{key:"update",value:(o=(0,h.A)((0,p.A)().m(function e(){var t,n,a=arguments;return(0,p.A)().w(function(e){for(;;)switch(e.n){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},this.preRequestPromiseActuator=void 0,(n=O()({needUpdateCartNum:!0},t)).needUpdateCartNum&&this.updateCartNum(n.cartInfo),e.n=1,this.initPromiseActuator.promise;case 1:if(!this.config.disabledTagTip){e.n=2;break}return e.a(2);case 2:return e.n=3,ae(this,s,d).call(this,{requestType:1,excludeUniqueType:t.excludeUniqueType});case 3:if(e.v){e.n=4;break}return e.a(2,"/order/cart/get_entrance_guide 接口异常");case 4:this.triggerShowtime({noTips:n.noTips,excludeScroll:n.excludeScroll,callback:n.callback}),this.triggerShowtimeByBff({noTips:n.noTips,excludeScroll:n.excludeScroll,callback:n.callback});case 5:return e.a(2)}},e,this)})),function(){return o.apply(this,arguments)})},{key:"firstTimeTip",value:(i=(0,h.A)((0,p.A)().m(function e(){var t=this;return(0,p.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.initPromiseActuator.promise;case 1:if(!this.config.disabledTagTip){e.n=2;break}return e.a(2);case 2:if(!this.config.disabledFirstTimeTip){e.n=3;break}return e.a(2);case 3:if(!this.cache){e.n=5;break}if(!this.cache.onceTip.get()){e.n=4;break}return e.a(2);case 4:this.cache.onceTip.set(!0),N()(function(){t.triggerShowtime(),t.triggerShowtimeByBff({isFirstTimeTip:!0})},700);case 5:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})},{key:"updateCartNum",value:(r=(0,h.A)((0,p.A)().m(function e(t){var n;return(0,p.A)().w(function(e){for(;;)switch(e.n){case 0:if(!t){e.n=1;break}return Ce().update({num:t.cartSumQuantity}),e.a(2);case 1:return e.n=2,be();case 2:0==(n=e.v).code&&Ce().update({num:n.info.cartSumQuantity});case 3:return e.a(2)}},e)})),function(e){return r.apply(this,arguments)})},{key:"updateCartList",value:(a=(0,h.A)((0,p.A)().m(function e(){var t,n,a,r,i;return(0,p.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,we({requestType:2,auto_use_coupon:+this.config.autoUseCoupon,country_id:(null==(n=(t=this.config).getCountryId)?void 0:n.call(t))||"",excludeBubbles:"",lurePointCacheInfo:""});case 1:if(0!=(r=e.v).code){e.n=2;break}return i=(null==(a=r.info.cartMetaInfo)?void 0:a.item_list)||[],this.cache&&this.cache.cartList.set(i),e.a(2,i);case 2:return e.a(2,[]);case 3:return e.p=3,e.v,e.a(2,[])}},e,this,[[0,3]])})),function(){return a.apply(this,arguments)})},{key:"getCurrentTag",value:(n=(0,h.A)((0,p.A)().m(function e(){var t,n;return(0,p.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.initPromiseActuator.promise;case 1:if(t=void 0,!this.config.disabledTagTip&&this.cache&&(t=ve(this.cache.lure.get(),this.cache.totalPrice.get())),!(n=null==t?void 0:t.pop())){e.n=2;break}return e.a(2,n);case 2:return e.a(2,{type:"",realType:"",tag:!1,category:null,tips:"",noTips:!0,excludeScroll:!1})}},e,this)})),function(){return n.apply(this,arguments)})},{key:"getLure",value:(t=(0,h.A)((0,p.A)().m(function e(){var t;return(0,p.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.initPromiseActuator.promise;case 1:return!this.config.disabledTagTip&&this.cache&&(t=this.cache.lure.get()),e.a(2,t)}},e,this)})),function(){return t.apply(this,arguments)})},{key:"getExposeData",value:(e=(0,h.A)((0,p.A)().m(function e(){var t,n,a;return(0,p.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.initPromiseActuator.promise;case 1:return n={},!this.config.disabledTagTip&&this.cache&&(n=this.cache.exposeData.get()||{}),a={},W()(t=z()(n)).call(t,function(e){a[e]=n[e]||"-"}),e.a(2,(0,f.A)((0,f.A)({},a),{},{actual_point:n.labelActualPoint||"-",available_point:n.labelAvailablePoint||"-",actual_point_tip:n.bubbleActualPoint||"-",available_point_tip:n.bubbleAvailablePoint||"-"}))}},e,this)})),function(){return e.apply(this,arguments)})},{key:"isOverMaxTip",value:function(){return!!this.cache&&this.cache.tipTotal.get()>=this.config.maxTip}},{key:"triggerShowtime",value:function(e){var t;if(!this.cache)return null==(t=null==e?void 0:e.callback)?void 0:t.call(e);var n=ve(this.cache.lure.get(),this.cache.totalPrice.get());if(!!(null==e?void 0:e.noTips)||this.isOverMaxTip()){var a=n.pop();a&&(n=[(0,f.A)((0,f.A)({},a),{},{noTips:!0})])}return n.length&&(n[0].excludeScroll=!!(null==e?void 0:e.excludeScroll)),this.cartManager.triggerShowtime(n,{callback:null==e?void 0:e.callback}),n}},{key:"triggerShowtimeByBff",value:function(e){var t,n,a,r=!!(null==e?void 0:e.noTips)||this.isOverMaxTip();this.cartManager.triggerShowtimeByBff({cartHorizontalLurePointInfo:this.cartHorizontalLurePointInfo,appStyleControl:null==(t=this.cache)?void 0:t.lure.get(),totalPrice:null==(n=this.cache)?void 0:n.totalPrice.get(),lurePointBiData:null==(a=this.cache)?void 0:a.exposeData.get()},(0,f.A)((0,f.A)({},e),{},{noTips:r}))}},{key:"triggerQuickCartsEndtime",value:function(e){this.cartManager.triggerQuickCartsEndtime(e)}},{key:"triggerEndtime",value:function(){this.cartManager.triggerEndtime()}},{key:"incrementTipCount",value:function(){this.cache&&this.cache.tipTotal.set(this.cache.tipTotal.get()+1)}},{key:"setCacheByBubble",value:function(e){var t;this.cache&&(null==e?void 0:e.type)&&this.cache.excludeBubbles.set((0,v.A)(new(j())(G()(t=[]).call(t,(0,v.A)(this.cache.excludeBubbles.get()||[]),[e.type]))))}}]);var e,t,n,a,r,i,o,c,l,y,w}();s=new(C()),u=function(){var e=(0,h.A)((0,p.A)().m(function e(){var t,n,a,r=arguments;return(0,p.A)().w(function(e){for(;;)switch(e.n){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:{},this.preRequestPromiseActuator){e.n=2;break}return this.preRequestPromiseActuator=new ge,e.n=1,ae(this,s,d).call(this,(0,f.A)({requestType:2},t));case 1:a=e.v,null==(n=this.preRequestPromiseActuator)||n.resolve(a);case 2:return e.a(2,this.preRequestPromiseActuator.promise)}},e,this)}));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,h.A)((0,p.A)().m(function e(t){var n,a,r,i,o,c,l,s,u,d,h,v,f,g;return(0,p.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return c=null,e.p=1,l=(null==(a=(n=this.config).getCountryId)?void 0:a.call(n))||"",s=this.config.autoUseCoupon,u=t.requestType,d=t.lureScene,h=null==(r=this.cache)?void 0:r.apiData.get(),v=t.excludeUniqueType,f={country_id:l,auto_use_coupon:+s,lureScene:d,requestType:u,lurePointCacheInfo:h,excludeBubbles:"mark_down,oos,flash_sale,coupon,order_return_coupon",excludeUniqueType:v},"pc"===this.appConfigs.$envs.project&&(f.callScene="pc"),2===t.requestType&&(f.requestType=2,f.excludeBubbles=(null==(o=null==(i=this.cache)?void 0:i.excludeBubbles.get())?void 0:o.join(","))||"",f.lurePointCacheInfo=""),e.n=2,we(f);case 2:0==(g=e.v).code&&(c=g.info.lurePointInfo,this.config.maxTip=c.appStyleControl.config.bubbleShowNum,this.cache&&(this.cache.totalPrice.set(g.info.cartMetaInfo.totalPrice),this.cache.cartList.set(g.info.cartMetaInfo.item_list),this.cache.lure.set(c.appStyleControl),this.cache.apiData.set(c.lurePointCacheInfo),this.cache.exposeData.set(c.lurePointBiData)),this.cartHorizontalLurePointInfo=g.info.cartHorizontalLurePointInfo),e.n=4;break;case 3:e.p=3,e.v,this.cache&&(this.cache.cartList.set(null),this.cache.lure.set(null),this.cache.apiData.set(null),this.cache.totalPrice.set(null),this.cache.exposeData.set(null));case 4:return e.a(2,c)}},e,this,[[1,3]])}));return function(t){return e.apply(this,arguments)}}();var Se=!0,Te=function(e,t,n){"undefined"!=typeof window&&(Ie.cartManager.register(e,t,n),Se&&(Se=!1,Ie.firstTimeTip()))},Ae=function(e,t){"undefined"!=typeof window&&Ie.cartManager.unregister(e,t)},Ie="undefined"!=typeof window?window.__cartTagTip__||(window.__cartTagTip__=new ke):{updateCartNum:function(){}}},Sr6e:(e,t,n)=>{n.d(t,{Io:()=>ie});var a=n("4ZC2"),r=n("7IdM"),i=n("5Wdv"),o=n("6ARB"),c=n("ZJZb"),l=n("gAU2"),s=n.n(l),u=n("qItV"),d=n.n(u),p=n("TDGH"),h=n.n(p),v=n("5k+Q"),f=n.n(v),g=n("D5Ip"),m=n.n(g),y=n("CtJl"),w=n.n(y),_=n("WA4n"),b=n.n(_),C=n("Fs+w"),k=n.n(C),S=n("xsts"),T=n.n(S),A=n("twzR"),I=n("1gEK"),x=n("2QGG"),E=n("OhDQ"),D=n("ffKx"),R=n("E1UV"),P=n("Gjyz"),H=n("Rvkl"),W=n("RFDR"),L=n("umKG"),B=n("AM1m"),F=n("L+NM"),N=n("6LI1"),M=n("yY5s"),O=function(){var e=(0,c.A)((0,o.A)().m(function e(){var t;return(0,o.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.$schttp({url:"/user/language/list"});case 1:return t=e.v,e.a(2,t.data)}},e,this)}));return function(){return e.apply(this,arguments)}}(),K=function(){var e=(0,c.A)((0,o.A)().m(function e(t){var n;return(0,o.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.$schttp({url:"/user/language/change",params:{new_lang:t}});case 1:return n=e.v,e.a(2,n.data)}},e,this)}));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=(0,c.A)((0,o.A)().m(function e(){var t;return(0,o.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.$schttp({url:"/user/currency/list"});case 1:return t=e.v,e.a(2,t.data)}},e,this)}));return function(){return e.apply(this,arguments)}}(),U=function(){var e=(0,c.A)((0,o.A)().m(function e(t){var n;return(0,o.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.$schttp({url:"/user/currency/change",params:{currency:t}});case 1:return n=e.v,e.a(2,n.data)}},e,this)}));return function(t){return e.apply(this,arguments)}}(),j=s()(d()({__proto__:null,getCurrencys:z,getlangs:O,setCurrency:U,setlang:K},h(),{value:"Module"}));function $(e){var t=e.dataSource,n=void 0===t?{}:t,a=e.appConfigs;return(0,D.J)({standard:j},n,a)}var G=function(e,t){var n,a=e.__vccOpts||e,o=(0,i.A)(t);try{for(o.s();!(n=o.n()).done;){var c=(0,r.A)(n.value,2),l=c[0],s=c[1];a[l]=s}}catch(u){o.e(u)}finally{o.f()}return a},q={"data-v-4d906883":"",class:"sui-icon-common__wrap icon__container__preview__container",style:{"vertical-align":"middle",display:"inline-block","line-height":"0","font-size":"24px"}},Q={style:{width:"auto",height:"1em"},width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var Z=G({},[["render",function(e,t){return(0,I.uX)(),(0,I.CE)("span",q,[((0,I.uX)(),(0,I.CE)("svg",Q,t[0]||(t[0]=[(0,I.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 1.5C13.1421 1.5 16.5 4.85786 16.5 9C16.5 13.1421 13.1421 16.5 9 16.5C4.85786 16.5 1.5 13.1421 1.5 9C1.5 4.85786 4.85786 1.5 9 1.5ZM10.7711 6.22322C10.1982 6.36017 9.60467 6.43108 9 6.43108C8.39519 6.43108 7.80166 6.36009 7.22893 6.22317C7.44981 5.06656 7.81555 3.98763 8.30687 3.0396C8.53429 3.01344 8.76557 3 9 3C9.23443 3 9.46571 3.01344 9.69313 3.0396C10.1845 3.98765 10.5502 5.06659 10.7711 6.22322ZM4.54249 4.98363C5.0682 4.40056 5.70668 3.92115 6.42356 3.57978C6.16259 4.25917 5.9531 4.97789 5.79876 5.72469C5.35811 5.51929 4.93753 5.2713 4.54249 4.98363ZM13.4574 4.98356C13.0622 5.27139 12.6416 5.51936 12.2012 5.72467C12.0469 4.97788 11.8374 4.25916 11.5764 3.57978C12.2933 3.92114 12.9317 4.40052 13.4574 4.98356ZM9 8.0833C9.67511 8.0833 10.339 8.0093 10.9822 7.86612C11.0044 8.1904 11.0157 8.51845 11.0157 8.84927C11.0157 9.33251 10.9916 9.80976 10.9446 10.2779C10.3131 10.1401 9.66196 10.069 9 10.069C8.33786 10.069 7.68668 10.1402 7.05536 10.2779C7.00837 9.80979 6.98428 9.33253 6.98428 8.84927C6.98428 8.51844 6.99557 8.19037 7.01777 7.86608C7.66081 8.00923 8.32471 8.0833 9 8.0833ZM12.5157 8.84927C12.5157 9.4858 12.4778 10.1141 12.404 10.7284C13.08 11.0016 13.7215 11.3563 14.3155 11.7858C14.7526 10.9533 15 10.0055 15 9C15 8.03883 14.774 7.13045 14.3722 6.3251C13.7759 6.76331 13.1307 7.1256 12.45 7.40512C12.4935 7.88003 12.5157 8.36226 12.5157 8.84927ZM9 11.569C9.58418 11.569 10.1579 11.6352 10.7128 11.7631C10.4601 12.9426 10.0553 14.0338 9.52041 14.9777C9.3489 14.9925 9.17533 15 9 15C8.82467 15 8.6511 14.9925 8.47959 14.9777C7.9447 14.0338 7.53989 12.9426 7.28725 11.7632C7.84191 11.6352 8.41569 11.569 9 11.569ZM12.1418 12.248C11.9637 13.0328 11.7242 13.7842 11.4277 14.4885C12.2051 14.1442 12.8956 13.6395 13.4574 13.0165C13.0444 12.7157 12.6038 12.4585 12.1418 12.248ZM5.54996 7.40511C4.86889 7.12545 4.22366 6.76309 3.62774 6.32518C3.22599 7.13051 3 8.03886 3 9C3 10.0055 3.24734 10.9533 3.68451 11.7857C4.27805 11.3566 4.91961 11.0018 5.59604 10.7284C5.52217 10.1141 5.48428 9.48581 5.48428 8.84927C5.48428 8.36225 5.50645 7.88003 5.54996 7.40511ZM5.85821 12.248C5.39592 12.4586 4.95527 12.7158 4.54252 13.0164C5.1043 13.6395 5.79486 14.1442 6.57227 14.4885C6.27581 13.7842 6.03626 13.0328 5.85821 12.248Z",fill:"#666666"},null,-1)])))])}],["__file","/builds/PRitxt6n/0/npmjs/shein-aidc/busniness-lib/packages/bs/swich-lang-currency/laptop/src/icons/Swich.vue"]]),X={"click_bublle_language.comp_swich-lang-currency":function(e){var t=e.extraData;return(0,a.A)({},t)},"click_popup_country_change.comp_swich-lang-currency":function(e){var t=e.extraData;return(0,a.A)((0,a.A)({},t),{},{$options:{send_beacon:!0}})},"click_change_site_language.comp_swich-lang-currency":function(e){var t=e.extraData;return(0,a.A)((0,a.A)({},t),{},{$options:{send_beacon:!0}})}};var V={href:"javascript:;","aria-label":"Currency","aria-expanded":"false",role:"listbox"},J={class:"bs-c-swich__wrap-icon j-earth-icon"},Y={key:0,class:"bs-c-swich__wrap-dropdown bsc-header-dropdown"},ee={class:"bs-c-swich__dropdown-hd"},te={class:"bs-c-swich__currency-list"},ne={key:0,class:"bs-c-swich__dropdown-hd bs-c-swich__dropdown-langguage"},ae={key:1,class:"bs-c-swich__lang-list"},re=["onClick"];var ie=G((0,I.pM)({__name:"swich-lang-currency",props:{fsData:{type:null,required:!1},dataSource:{type:Object,required:!1},analysisSource:{type:Object,required:!1}},setup:function(e,t){(0,t.expose)();var n=(0,A._t)(),i=e,l=$({appConfigs:n,dataSource:i.dataSource}),s=(0,x.KR)(!1),u=(0,x.KR)(""),p=(0,x.KR)(n.$envs.currency),h=(0,x.KR)([]),v=(0,x.KR)([]),g=(0,x.KR)(n.$envs.siteUID),y=(0,x.KR)(n.$envs.lang),_=(0,x.KR)(n.$language),C=n.$utils.replaceCurrencySymbols;(0,I.KC)((0,c.A)((0,o.A)().m(function e(){var t,a,i,c,s,d,p,g;return(0,o.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,f().all([l.getlangs(),l.getCurrencys()]);case 1:c=e.v,s=(0,r.A)(c,2),d=s[0],p=s[1],h.value=(null==(a=null==d?void 0:d.info)?void 0:a.language_list)||[],v.value=(null==(i=null==p?void 0:p.info)?void 0:i.currency_infos)||[],g=m()(t=h.value).call(t,function(e){return e.web_lang==n.$envs.lang})||{},u.value=(null==g?void 0:g.web_lang)||"";case 2:return e.a(2)}},e)})));var S,T=function(e){var t;(0,H.x)({keys:["addressbook","addressbook-post","campaignsDynamicData","cartDynamicData","dynamicData","homePageDynamicData","payDynamicData","pcCheckoutHtml","pcMeHtml"]}),location.href=w()(t="".concat(location.pathname,"?")).call(t,(0,W.r)({queryObj:e}))},E=function(){var e=(0,c.A)((0,o.A)().m(function e(t){var n,r,i;return(0,o.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,l.setlang(t);case 1:"0"==e.v.code&&(r=(0,L.J)((0,B.b)(location.href))||{},"0"!=(null==(i=(0,a.A)((0,a.A)({},r),{_t:b()()}))?void 0:i.lang)&&k()(n=h.value).call(n,function(e){return e.web_lang==i.lang})&&(i.lang="0"),T(i));case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=(0,c.A)((0,o.A)().m(function e(t){var a;return(0,o.A)().w(function(e){for(;;)switch(e.n){case 0:if(t.value!=n.$envs.currency){e.n=1;break}return e.a(2);case 1:return e.n=2,l.setCurrency(t.value);case 2:"0"==e.v.code&&((0,F.ZB)({key:"manualChangeCurrency",value:1,expire:2592e6}),delete(a=(0,L.J)(location.search)).currency,a._t=b()(),T(a));case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),O=(S=i.analysisSource,(0,M.q)(X,S)),K=O.vTap,z=O.triggerNotice;(0,I.Gt)("analysisInstance",O);var U={appConfigs:n,props:i,apis:l,isShowPop:s,default_language:u,default_currency:p,language_list:h,currency_infos:v,siteUid:g,lang:y,language:_,replaceCurrencySymbols:C,reloadPage:T,changeLanguage:E,changeCurrency:D,toInternational:function(){var e;(0,N.T)({key:"jump_to_".concat(g.value),value:"0",end:86400,curMainDomain:!0}),window.location.href=w()(e="https://www.shein.com?is_manual_change_site=0&is_from_origin_btn=0&ref=".concat(g.value,"&ret=www&from_country=")).call(e,g.value)},mouseEnter:function(){s.value=!0,z({id:"click_bublle_language.comp_swich-lang-currency"})},analysisInstance:O,vTap:K,triggerNotice:z,SwichIcon:Z,get SSelect(){return R.G},get SSelectOption(){return P.r}};return d()(U,"__isScriptSetup",{enumerable:!1,value:!0}),U}}),[["render",function(e,t,n,a,r,i){var o,c,l;return(0,I.uX)(),(0,I.CE)("div",{class:"bs-c-swich__wrap",onMouseenter:a.mouseEnter,onMouseleave:t[1]||(t[1]=function(e){return a.isShowPop=!1})},[(0,I.bo)(((0,I.uX)(),(0,I.CE)("a",V,[(0,I.Lk)("span",J,[(0,I.bF)(a.SwichIcon)]),t[2]||(t[2]=(0,I.Lk)("div",{class:"j-switch-language-guide bs-c-swich__wrap-guide"},null,-1))])),[[a.vTap,{id:"click_bublle_language.comp_swich-lang-currency"}]]),a.isShowPop?((0,I.uX)(),(0,I.CE)("div",Y,[(0,I.Q3)(" 币种切换 "),(0,I.Lk)("div",ee,(0,E.v_)(null==(c=a.language.BSwichLangCurrency)?void 0:c.Currency),1),(0,I.Lk)("div",te,[a.currency_infos.length?(0,I.bo)(((0,I.uX)(),(0,I.Wv)(a.SSelect,{key:0,modelValue:a.default_currency,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.default_currency=e}),onChange:a.changeCurrency},{default:(0,I.k6)(function(){return[((0,I.uX)(!0),(0,I.CE)(I.FK,null,(0,I.pI)(a.currency_infos,function(e){var t,n;return(0,I.uX)(),(0,I.Wv)(a.SSelectOption,{key:e.code,value:e.code,label:w()(t=w()(n="".concat(e.code," / ")).call(n,a.replaceCurrencySymbols(e.symbol_left))).call(t,a.replaceCurrencySymbols(e.symbol_right))},null,8,["value","label"])}),128))]}),_:1},8,["modelValue"])),[[a.vTap,{id:"click_popup_country_change.comp_swich-lang-currency"}]]):(0,I.Q3)("v-if",!0)]),(0,I.Q3)(" 语种切换 "),a.language_list.length>0?((0,I.uX)(),(0,I.CE)("div",ne,(0,E.v_)(null==(l=a.language.BSwichLangCurrency)?void 0:l.Language),1)):(0,I.Q3)("v-if",!0),a.language_list.length>0?((0,I.uX)(),(0,I.CE)("div",ae,[((0,I.uX)(!0),(0,I.CE)(I.FK,null,(0,I.pI)(a.language_list,function(e,t){return(0,I.bo)(((0,I.uX)(),(0,I.CE)("div",{key:t,class:(0,E.C4)(["bs-c-swich__lang-item",{"bs-c-swich__lang-selected":e.web_lang==a.default_language}]),onClick:function(t){return a.changeLanguage(e.web_lang)}},[(0,I.eW)((0,E.v_)(e.title),1)],10,re)),[[a.vTap,{id:"click_change_site_language.comp_swich-lang-currency",data:{language:e.web_lang}}]])}),128))])):(0,I.Q3)("v-if",!0),(0,I.Q3)(" 跳转到国际站 "),T()(o=["www","hk"]).call(o,a.siteUid)?(0,I.Q3)("v-if",!0):((0,I.uX)(),(0,I.CE)("a",{key:2,href:"javascript:;",class:"bs-c-swich__global-international",onClick:a.toInternational},(0,E.v_)("tw"==a.lang?"國際站":"International Site"),1))])):(0,I.Q3)("v-if",!0)],32)}],["__file","/builds/PRitxt6n/0/npmjs/shein-aidc/busniness-lib/packages/bs/swich-lang-currency/laptop/src/swich-lang-currency.vue"]])},"c/S9":e=>{e.exports=JSON.parse('{"BSwichLangCurrency":{"Currency":"SHEIN_KEY_PC_15604","Language":"SHEIN_KEY_PC_15996"}}')},mMMX:(e,t,n)=>{n.d(t,{Ov:()=>Te});var a=n("6ARB"),r=n("ZJZb"),i=n("4ZC2"),o=n("5Wdv"),c=n("7IdM"),l=n("QMV9"),s=n("HJGT"),u=n.n(s),d=n("Ag2i"),p=n.n(d),h=n("5k+Q"),v=n.n(h),f=n("N1wU"),g=n.n(f),m=n("qItV"),y=n.n(m),w=n("CtJl"),_=n.n(w),b=n("gAU2"),C=n.n(b),k=n("TDGH"),S=n.n(k),T=n("q5KV"),A=n.n(T),I=n("dijo"),x=n.n(I),E=n("BJYW"),D=n.n(E),R=n("23tR"),P=n.n(R),H=n("xsts"),W=n.n(H),L=n("txhI"),B=n.n(L),F=n("oIFm"),N=n.n(F),M=n("WA4n"),O=n.n(M),K=n("twzR"),z=n("1gEK"),U=n("OhDQ"),j=n("2QGG"),$=n("Kk1a"),G=n("+Awh"),q=n("ENUY"),Q=n("EPCR"),Z=n("Um1u"),X=n("F4PJ"),V=n("ffKx"),J=n("yY5s"),Y=n("awAw"),ee=n("Cnx2"),te=n("1WM/"),ne=n("G3O5"),ae=n.n(ne),re=function(e){var t,n,a,r,i,o=e.sceneName,c=void 0===o?"":o,s=e.pageFrom,u=e.activityId,d=e.activityNameEn,p=e.componentName,h=void 0===p?"":p,v=e.operationComponentName,f=void 0===v?"":v,g=e.isSuspension,m=void 0!==g&&g,y=e.comIndex,w=void 0===y?1:y,b=e.positionIndex,C=void 0===b?1:b,k=e.item,S=void 0===k?{}:k,T=e.hotZoneParams,A=void 0===T?{}:T,I=e.extra,x=void 0===I?{}:I,E=S||{},D=E.hrefType,R=void 0===D?"noJump":D,P=E.hrefTarget,H=void 0===P?"":P,W="webLink"===R&&1==S.isInternalLink&&H?_()(t=_()(n=_()(a="".concat(R,"_")).call(a,location.protocol,"//")).call(n,location.hostname)).call(t,H):_()(r="".concat(R||"noJump","_")).call(r,H||0),L=C,B=A.hot_area,F=void 0===B?"":B,N=["on=".concat(h),"cn=".concat(f),"hz=".concat(F||0),m?"`ps=":_()(i="ps=".concat(w,"_")).call(i,L),"jc=".concat(decodeURIComponent(W))];"campaigns"==s&&N.push("ai=".concat(u),"an=".concat(d));var M=N.join("`");x.extraSrcIdentifier&&(M+="`"+x.extraSrcIdentifier);var O=function(){if(("undefined"==typeof window?"undefined":(0,l.A)(window))>"u")return"";var e=((0,K._t)().$getters||{}).SaPageInfo;return e&&e.page_name?e.page_name+e.start_time:""}();return{src_module:c,src_identifier:M,src_tab_page_id:O,url_params:["src_module=".concat(c),"src_identifier=".concat(encodeURIComponent(M)),"src_tab_page_id=".concat(O)].join("&")}},ie={h1:["all_h1","pinleih1"],sbc:["all_sbc","sbc1"]},oe=function(){return(0,te.A)(function e(t){var n=t.sceneData,a=t.propData;(0,ee.A)(this,e),this.sceneData=n,this.propData=a},[{key:"getLink",value:function(e){var t,n,a,r,i,o,c,s,u,d,p,h,v,f,m,y,w=e.item,b=void 0===w?{}:w,C=e.cateLinks,k=void 0===C?{}:C,S=(((0,K._t)()||{}).$envs||{}).langPath,T=void 0===S?"":S,A="javascript:;",I=b.hrefType,x=b.hrefTarget;switch(I){case"noJump":A="javascript:;";break;case"webLink":A=1==b.isInternalLink?_()(t="".concat(T)).call(t,x):x;break;case"customJump":try{var E,D=JSON.parse(x);D.pwa&&(A=1==D.pwa.isInternalLink?_()(E="".concat(T)).call(E,D.pwa.hrefTarget):D.pwa.hrefTarget)}catch(D){}break;case"skuList":case"real":case"sku":case"frontCat":case"itemPicking":var R,H,W=k[_()(R="".concat("skuList"===I?"sku":I,"_")).call(R,x)]||"";W.url&&(W=W.url);var L=W||b.relativeUrl;L&&(A=_()(H="".concat(T)).call(H,L));break;case"activityNew":A=_()(n="".concat(T,"/campaigns/")).call(n,x);try{var B;if(("undefined"==typeof window?"undefined":(0,l.A)(window))>"u")return;var F=JSON.parse(localStorage.getItem("campaigns_tiny_url_list")),N=null==(y=null==(m=null==F?void 0:F.value)?void 0:g()(m).call(m,function(e){return e.identity===x})[0])?void 0:y.tinyUrl;N&&(A=_()(B="".concat(T,"/")).call(B,N))}catch(D){}break;case"activityOld":A=_()(a="".concat(T,"/campaign/")).call(a,x);break;case"flashSale":case"lightningDeal":A="".concat(T,"/flash-sale.html");break;case"sheinPicks":A=_()(r=_()(i="".concat(T,"/shein-picks.html?hrefTarget=")).call(i,x,"&hrefTargetId=")).call(r,x);break;case"dailyNew":A="".concat(T,"/daily-new.html");break;case"thriftyFind":A="".concat(T,"/super-deals");break;case"category":A="".concat(T,"/category/");break;case"survey":A=_()(o="".concat(T,"/survey/")).call(o,x);break;case"trial":var M,O=k[I]||b.webClickUrl;O&&!(P()(O).call(O,"javascript:;")>-1)&&(A=_()(M="".concat(T)).call(M,O));break;case"lookBook":A=_()(c="".concat(T,"/shop-multiple-sets-")).call(c,x,".html");break;case"article":if(b.relativeUrl)A=_()(s="".concat(T,"/")).call(s,b.relativeUrl,".html");else{var z,U,j=b.selectTypeName||"article";A=_()(z=_()(U="".concat(T,"/")).call(U,j,"-a-")).call(z,x,".html")}break;case"game":A=b.gameType?_()(u=_()(d="".concat(T,"/game/")).call(d,b.gameType,"/")).call(u,x):"javascript:;";break;case"thirdPartyStoreList":case"thirdPartyStoreHome":var $,G=k["store_".concat(x)]||b.webClickUrl;G&&(A=_()($="".concat(T)).call($,G));break;case"sheinxDesignerRecruit":A="".concat(T,"/sheinx");break;case"sheinxDesignerInformation":A=_()(p="".concat(T,"/designer/")).call(p,x);break;case"giftCard":A="".concat(T,"/giftcard.html");break;case"prime":A="".concat(T,"/user/prime");break;case"underPrice":A="".concat(T,"/under-prices-products.html");break;case"sheinxDesignerList":A="".concat(T,"/designer_list");break;case"informationFlow":A="".concat(T,"/picked-info-products.html");break;case"loveromwe":A="".concat(T,"/member-image-list-outfit.html");break;case"couponCenter":A="".concat(T,"/user/coupon");break;case"pointsCenter":A="".concat(T,"/user/points");break;case"userInfoEdit":A="".concat(T,"/user/account_setting");break;case"singleReplay":A=_()(h="".concat(T,"/live/")).call(h,x);break;case"singlePreview":A=_()(v="".concat(T,"/live/")).call(v,x);break;case"galsLiveEntrance":A=_()(f="".concat(T,"/live/")).call(f,x);break;case"deepLink":A=x;break;case"oldWithNew":A="".concat(T,"/shareandearn");break;case"homepageChannel":A="".concat(T,"/secondaryhome");break;case"brandZone":A="".concat(T,"/brand-zone");break;case"trendsChannel":A="".concat(T,"/top-trend");break;case"storeHome":A="".concat(T,"/store/home");break;case"newChannel":A="".concat(T,"/campaigns/shein_new");break;case"swift":var q,Q=b.relativeUrl||"";A=Q?_()(q="".concat(T)).call(q,Q):"/ark/".concat(x)}return A||"javascript:;"}},{key:"getFullLink",value:function(e){var t,n,a,r=e.item,i=void 0===r?{}:r,o=e.cateLinks,c=void 0===o?{}:o,s=e.compIndex,u=e.index,d=e.hotZoneParams,p=void 0===d?{}:d,h=this.getLink({item:i,cateLinks:c});if(("undefined"==typeof window?"undefined":(0,l.A)(window))<"u"&&(h=this.replacePwaUrl(h)),("webLink"===(null==i?void 0:i.hrefType)||"customJump"===(null==i?void 0:i.hrefType))&&0==i.isInternalLink){var v="";return"IMMERSIVE_BANNER"===(null==(t=this.propData)?void 0:t.styleType)&&(v=-1!==P()(h).call(h,"?")?"&styleType=".concat(null==(n=this.propData)?void 0:n.styleType):"?styleType=".concat(null==(a=this.propData)?void 0:a.styleType)),h+v}return("undefined"==typeof window?"undefined":(0,l.A)(window))>"u"||P()(h).call(h,"javascript:;")>-1?h:this.setLinkParams({item:i,url:h,compIndex:s,index:u,hotZoneParams:p})}},{key:"setLinkParams",value:function(e){var t,n,a,r,i,o,c,l,s,u,d,p,h,v,f,g,m,y,w,b,C,k,S,T,A,I,x,E,D,R,H,L,B,F,N,M=e.item,O=e.url,K=e.compIndex,z=void 0===K?0:K,U=e.index,j=void 0===U?0:U,$=e.hotZoneParams,G=[],q=["dailyNew","itemPicking"],Q=["activityOld","activityNew","swift"],Z=["dailyNew","flashSale","lightningDeal"],X=["real","itemPicking"];if("swift"==(null==M?void 0:M.hrefType)){var V=(null==(l=null==window?void 0:window.localStorage)?void 0:l.getItem("SmDeviceId"))||(null==(s=null==window?void 0:window.sessionStorage)?void 0:s.getItem("SmDeviceId"))||"",J=(null==(u=null==window?void 0:window.localStorage)?void 0:u.getItem("armorToken"))||(null==(d=null==window?void 0:window.sessionStorage)?void 0:d.getItem("armorToken"))||"";G.push("sm_device_id=".concat(encodeURIComponent(V))),G.push("armor_token=".concat(encodeURIComponent(J)))}if("homepageChannel"===M.hrefType&&(G.push("channelId=".concat(M.hrefTarget)),M.hrefTitle&&G.push("channelName=".concat(encodeURIComponent(M.hrefTitle)))),"trendsChannel"===M.hrefType&&null!=(h=null==(p=this.sceneData)?void 0:p.channelInfo)&&h.realCateIds&&!M.noPushCateId){G.push("cccCatId=".concat(this.sceneData.channelInfo.realCateIds));var Y=[(null==(v=this.sceneData)?void 0:v.pageFrom)||"-",(null==(g=null==(f=this.sceneData)?void 0:f.channelInfo)?void 0:g.channelId)||"-",(null==(y=null==(m=this.sceneData)?void 0:m.channelInfo)?void 0:y.channelName)||"-",(null==(w=this.propData)?void 0:w.styleType)||"-"].join("`");G.push("page_from=".concat(Y))}if(M.mallCodes&&G.push("mallCode=".concat(M.mallCodes)),W()(t=Q).call(t,M.hrefType)){var ee=this.activityUrlAddQuery(M);ee&&G.push(ee)}W()(n=Z).call(n,M.hrefType)&&M.categoryIds&&G.push("cat_ids=".concat(decodeURIComponent(M.categoryIds))),"category"===M.hrefType&&G.push("channelId=".concat(M.hrefTarget)),W()(a=q).call(a,M.hrefType)&&(M.daily&&G.push("daily=".concat(M.daily)),M.show_daily&&G.push("show_daily=".concat(M.show_daily))),"storeHomePage"===(null==(b=this.sceneData)?void 0:b.pageFrom)&&W()(r=X).call(r,M.hrefType)&&G.push("pageType=store&search_type=store&store_code=".concat(this.sceneData.storeCode)),M.adp&&G.push("adp=".concat(M.adp)),M.top_cate_id&&G.push("top_cate_id=".concat(M.top_cate_id));var te="";"storeHomePage"===(null==(C=this.sceneData)?void 0:C.pageFrom)&&null!=(k=this.sceneData)&&k.storeCode&&(te+="st=".concat(this.sceneData.storeCode));var ne=re({sceneName:null==(S=this.sceneData)?void 0:S.sceneName,componentName:null==(T=this.propData)?void 0:T.componentKey,operationComponentName:null==(I=null==(A=this.propData)?void 0:A.props)?void 0:I.name,comIndex:z+1,positionIndex:j+1,item:M,hotZoneParams:$,activityId:null==(x=this.sceneData)?void 0:x.activityId,activityNameEn:null==(E=this.sceneData)?void 0:E.activityNameEn,pageFrom:null==(D=this.sceneData)?void 0:D.pageFrom,extra:{extraSrcIdentifier:te}}).url_params;ne&&G.push(ne);var oe=function(e){var t,n=e.propData,a=void 0===n?{}:n,r=e.sceneName,i=void 0===r?0:r,o=e.poskey,c=void 0===o?"":o,l=e.position,s=void 0===l?null:l,u=e.aodId,d=void 0===u?0:u,p=a||{},h=p.componentKey,v=void 0===h?0:h,f=p.id,g=void 0===f?0:f,m=p.styleType,y=void 0===m?0:m,w="";c&&(w=null==(t=null==w?void 0:ae()(w))?void 0:t.call(w,"-",","));var b=["CCCSN=".concat(i),"ON=".concat(v),"OI=".concat(g),"CN=".concat(y),"TI=".concat(5e4),"aod=".concat(d)];return{name:_()(b).call(b,[s||"PS={-}","ABT=".concat(w||0)]).join("_"),ici:b.join("_")}}({sceneName:null==(R=this.sceneData)?void 0:R.sceneName,propData:this.propData,poskey:null==(H=this.sceneData)?void 0:H.poskey,position:_()(i="PS=".concat(z+1,"-")).call(i,M.item_loc||j+1),aodId:M.aodId}),ce=oe.name;ce&&G.push("ici=".concat(ce)),null!=M&&M.aodId&&G.push("aod_id=".concat(M.aodId));var le=null==(L=null==window?void 0:window.SaPageInfo)?void 0:L.page_name,se="page_home"===le?"home":"page_category"===le?"category":"";for(var ue in se&&G.push("fromPageType=".concat(se)),"thirdPartyStoreList"===(null==M?void 0:M.hrefType)&&G.push("tabId=items"),"IMMERSIVE_BANNER"===(null==(B=this.propData)?void 0:B.styleType)&&G.push("styleType=".concat(null==(F=this.propData)?void 0:F.styleType)),ie){var de;W()(de=ie[ue]).call(de,null==(N=this.propData)?void 0:N.blockKey)&&"homePage"===this.sceneData.pageFrom&&G.push("entranceType=".concat(ue))}return _()(o=_()(c="".concat(O)).call(c,P()(O).call(O,"?")>-1?"&":"?")).call(o,G.join("&"))}},{key:"activityUrlAddQuery",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).additionalConfig||{},t=e.anchor,n=[];return e.immersive&&n.push("type=immersive"),t&&n.push("anchor=".concat(t)),n.join("&")}},{key:"replacePwaUrl",value:function(e){var t=(0,K._t)().$envs.lang,n=void 0===t?"":t,a="";try{(a=document.createElement("a")).href=e}catch(o){}if(a&&a.pathname&&"/"!==a.pathname){var r,i,o=/^\/pwa/.test(a.pathname),c=/^\/pwa\/campaigns/.test(a.pathname);(P()(r=["ar","ar-en","in","es","de","fr","uk","euqs"]).call(r,n)>-1&&o||c)&&(e=_()(i="".concat(a.pathname.replace(/^\/pwa/,""))).call(i,a.search))}return e}}])}();function ce(e){var t=e.sceneData,n=e.propData;return{cccLink:new oe({sceneData:t,propData:n}),jumpLink:function(e){var t,n,a=e.url,r=e.hrefType,i=e.routeType,o=void 0===i?"push":i;P()(a).call(a,"javascript:;")>-1||(function(e){var t,n=e.hrefType;return!W()(t=["webLink","deepLink","survey","article","giftCard","game","sheinxDesignerList","customJump"]).call(t,n)}({hrefType:r})&&"activityNew"!==r?window._gb_app_?null==(n=null==(t=window._gb_app_)?void 0:t.$router)||n[o](a):location.href=a:(sessionStorage.setItem("navtrack_to","page_campaigns"),sessionStorage.setItem("navtrack_point",O()()),location.href=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url,n=e.options,a=void 0===n?{}:n;if(t)try{var r,i,o=(a||{}).isReturnUrl,c=void 0!==o&&o;t=_()(r="".concat(t)).call(r,P()(t).call(t,"?")>-1?"&hasTopBanner=1":"?hasTopBanner=1");var l=_()(i="".concat(t)).call(i,P()(t).call(t,"?")>-1?"&proxy_enable=1":"?proxy_enable=1");if(c)return l}catch(s){return t}}({url:a,options:{isReturnUrl:!0}})))}}}var le=null;function se(e){var t=e.deviceData,n=e.isSupportWebp,a=e.isSupprotCut,r=e.imgUrl,i=e.designWidth,o=e.sceneMap,s=e.exp,d=function(e){var t;if(!e)return{};var n={};u()(t=decodeURIComponent(e).split("&")).call(t,function(e){var t=e.split("="),a=(0,c.A)(t,2),r=a[0],i=a[1];r&&i&&(n[r]=i)});var a=p()(Number(n.width))?void 0:Number(n.width),r="1"===n.ios;return{width:a,isIOS:r}}(t),h=d.width;return("undefined"==typeof window?"undefined":(0,l.A)(window))>"u"?new X.lD({width:h,isMobile:!0,isSupportWebp:n,isSupprotCut:a,sceneMap:o}).transfromImg({imgUrl:r,width:i,exp:s}):(le||(le=new X.lD({width:h,isMobile:!0,isSupportWebp:n,isSupprotCut:a,sceneMap:o})),le.transfromImg({imgUrl:r,width:i,exp:s}))}var ue={StaticImage:(0,z.$V)(function(){return v().resolve().then(function(){return Me})}),Countdown:(0,z.$V)(function(){return v().resolve().then(function(){return Ve})})},de={ONE_IMAGE_COMPONENT:"StaticImage",LONGBANNER_COUNTDOWN:"Countdown"},pe=function(e){var t=e.styleType;return de[void 0===t?"":t]},he={index:{type:Number,default:0},context:{type:Object,default:function(){return{}}},content:{type:Array,default:function(){return[]}},propData:{type:Object,default:function(){return{}}},language:{type:Object,default:function(){return{}}}},ve=function(e,t){var n,a=e.__vccOpts||e,r=(0,o.A)(t);try{for(r.s();!(n=r.n()).done;){var i=(0,c.A)(n.value,2),l=i[0],s=i[1];a[l]=s}}catch(u){r.e(u)}finally{r.f()}return a};var fe=ve({__name:"CccContainer",props:(0,i.A)({},he),setup:function(e,t){(0,t.expose)();var n=e,a=(0,z.WQ)("getBannerHeight"),r=(0,z.EW)(function(){var e;return g()(e=n.content).call(e,function(e){return!!pe(e)&&(e.__comp_name=pe(e),!0)})}),i={props:n,getBannerHeight:a,list:r,computed:z.EW,inject:z.WQ,get components(){return ue},get compMapping(){return pe},get commonProps(){return he}};return y()(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}},[["render",function(e,t,n,a,r,i){return(0,z.uX)(),(0,z.CE)(z.FK,null,[(0,z.Q3)(" 渲染多个（单个？）不同业务组件 "),a.list.length?((0,z.uX)(),(0,z.CE)("div",{key:0,style:(0,U.Tr)({height:"".concat(a.getBannerHeight(),"px")})},[((0,z.uX)(!0),(0,z.CE)(z.FK,null,(0,z.pI)(a.list,function(t,n){var r;return(0,z.uX)(),(0,z.CE)("div",{key:_()(r="".concat(t.id,"_")).call(r,n),style:{height:"100%"}},[((0,z.uX)(),(0,z.Wv)((0,z.$y)(a.components[t.__comp_name]),{index:n,content:e.content,"prop-data":t,"data-component-name":t.props&&t.props.name},(0,z.eX)({_:2},[(0,z.pI)(e.$slots,function(t,n){return{name:n,fn:(0,z.k6)(function(){return[(0,z.RG)(e.$slots,n)]})}})]),1032,["index","content","prop-data","data-component-name"]))])}),128))],4)):(0,z.Q3)("v-if",!0)],2112)}],["__file","/builds/PRitxt6n/0/npmjs/shein-aidc/busniness-lib/packages/bs/top-banner/laptop/src/ccc/CccContainer.vue"]]),ge=function(){var e=(0,r.A)((0,a.A)().m(function e(){var t,n;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return t=(0,G.e)({key:"contentId"})||"",n=(0,G.e)({key:"pageType"})||"",e.n=1,this.$schttp({url:"/ccc/common/top_banner",params:{pageType:"topBanner",contentId:"topBanner"===n?t:""}});case 1:return e.a(2,e.v.data)}},e,this)}));return function(){return e.apply(this,arguments)}}(),me=C()(y()({__proto__:null,topBannerFetch:ge},S(),{value:"Module"}));function ye(e){var t=e.dataSource,n=void 0===t?{}:t,a=e.appConfigs;return(0,V.J)({standard:me},n,a)}var we={"click_block_main.comp_top-banner":function(e){var t,n,a=e.extraData,r=(null==(n=a.item)?void 0:n.markMap)||{},o=r.src_identifier,c=(null==a?void 0:a.hotZoneParams)||{};return(0,i.A)((0,i.A)({},r),{},{spm_new:(0,i.A)((0,i.A)({},null==r?void 0:r.spm_new),{},{item_loc:a.index+1,oprt_loc:a.compIndex+1},c),src_identifier:(null==o?void 0:o.join("`"))+_()(t="`ps=".concat(a.compIndex+1,"_")).call(t,a.index+1)})},"expose_block_main.comp_top-banner":function(e){var t,n,a=e.extraData,r=(null==(n=a.item)?void 0:n.markMap)||{},o=r.src_identifier,c=(null==a?void 0:a.hotZoneParams)||{};return(0,i.A)((0,i.A)({},r),{},{spm_new:(0,i.A)((0,i.A)({},null==r?void 0:r.spm_new),{},{item_loc:a.index+1,oprt_loc:a.compIndex+1},c),src_identifier:(null==o?void 0:o.join("`"))+_()(t="`ps=".concat(a.compIndex+1,"_")).call(t,a.index+1)})}};var _e=(0,z.pM)({__name:"top-banner",props:{fsData:{type:null,required:!1},dataSource:{type:Object,required:!1},analysisSource:{type:Object,required:!1},bannerContent:{type:Array,required:!1},showSkeleton:{type:Boolean,required:!1}},setup:function(e,t){var n=t.expose,i=(0,K._t)(),o=ye({appConfigs:i}),c=i.$envs||{},l=c.RESOURCE_SDK,s=c.project,u=e,d=function(e){return(0,J.q)(we,e)}(u.analysisSource);(0,z.Gt)("analysisInstance",d),(0,z.Gt)("cutImg",function(e,t,n){var a=l||{},r=a.deviceData,i=void 0===r?"":r,o=a.isSupportWeb,c=void 0===o?"":o,s=a.isSupprotCut,u=void 0!==s&&s,d=a.sceneMap;return se({deviceData:i,isSupportWebp:!!c,isSupprotCut:u,imgUrl:e,designWidth:Number(t),sceneMap:d,exp:n})});var p=i.$envs,h=(0,j.KR)(48),v=(0,j.KR)(""),f=(0,j.KR)(u.showSkeleton||!1),g=(0,j.KR)(!0),m=(0,j.KR)(u.bannerContent||[]),w=(0,j.KR)(!1),_=(0,j.KR)(1);(0,z.Gt)("getBannerHeight",function(){return h.value});var b=function(){var e,t,n,a,r,i,o,c,l,s,u,d,p,h;for(var v in m.value)if(Object.prototype.hasOwnProperty.call(m.value,v)){var f=m.value[v];"ONE_IMAGE_COMPONENT"===f.styleType&&(w.value=!!(null!=(t=null==(e=f.hotZones)?void 0:e.standard)&&t.length||null!=(a=null==(n=f.hotZones)?void 0:n.timeTransform)&&a.length||null!=(i=null==(r=f.hotZones)?void 0:r.label)&&i.length),null!=(s=null==(l=null==(c=null==(o=null==f?void 0:f.props)?void 0:o.items)?void 0:c[0])?void 0:l.image)&&s.ratio&&(_.value=Number(null==(h=null==(p=null==(d=null==(u=null==f?void 0:f.props)?void 0:u.items)?void 0:d[0])?void 0:p.image)?void 0:h.ratio)))}},C=function(){var e=(0,r.A)((0,a.A)().m(function e(){var t,n,r;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,o.topBannerFetch();case 1:r=e.v,m.value=(null==(t=null==r?void 0:r.info)?void 0:t.content)||[],f.value=!1,m.value&&null!=(n=m.value)&&n.length?b():g.value=!1,S();case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),k=function(e){(0,z.dY)(function(){var t=document.querySelector(".j-topbanner-fixer .bsc-ccc-hotzone");t&&(e<1446?(t.style.width=h.value*_.value+"px",t.style.height="100%"):2560!==t.offsetWidth&&(t.style.width="2560px",t.style.height="48px"))})},S=function(){var e=document.documentElement.clientWidth,t=window.innerWidth-e;if(v.value="".concat(t?t+"px":"none"),(e-=1)<1446){var n=e-48-48;h.value=n/1350*48}else h.value=48;w.value&&k(e)};(0,z.sV)(function(){var e;"pc"!==s||u.showSkeleton?C():m.value&&null!=(e=m.value)&&e.length&&A()(function(){b(),S()},200),window.addEventListener("resize",(0,q.s)({func:function(){S()},wait:200}))}),(0,z.hi)(function(){window.removeEventListener("resize",S)}),n({hasTopbanner:g});var T={appConfigs:i,apis:o,RESOURCE_SDK:l,project:s,props:u,analysisInstance:d,context:p,bannerHeight:h,paddingRight:v,needSkeleton:f,hasTopbanner:g,topBannerContent:m,showHotZone:w,bannerRatio:_,getTopBannerConf:b,getTopBannerContent:C,showHotZoneMounted:k,resizeHandle:S,AppCcc:fe};return y()(T,"__isScriptSetup",{enumerable:!1,value:!0}),T}}),be={key:1,class:"bsc-publicbanner-config-top-banners not-fsp-element"},Ce={class:"j-da-event-box bsc-publicbanner-topbanner-container"},ke={class:"j-config-top-banner config-top-banner",role:"link",tabindex:0},Se={class:"config-wrap j-topbanner-fixer"};var Te=ve(_e,[["render",function(e,t,n,a,r,i){return(0,z.uX)(),(0,z.CE)(z.FK,null,[(0,z.Q3)(" csr 占位 "),a.needSkeleton?((0,z.uX)(),(0,z.CE)("div",{key:0,style:(0,U.Tr)({minHeight:"".concat(a.bannerHeight,"px")}),class:"bsc-top-banner-csr-placeholder"},null,4)):(0,z.Q3)("v-if",!0),a.topBannerContent&&a.topBannerContent.length?((0,z.uX)(),(0,z.CE)("div",be,[(0,z.Lk)("div",Ce,[(0,z.Lk)("div",ke,[(0,z.Lk)("div",Se,[(0,z.bF)(a.AppCcc,{content:a.topBannerContent,context:a.context,style:(0,U.Tr)({paddingRight:"".concat(a.paddingRight)})},null,8,["content","context","style"])])])])])):(0,z.Q3)("v-if",!0)],64)}],["__file","/builds/PRitxt6n/0/npmjs/shein-aidc/busniness-lib/packages/bs/top-banner/laptop/src/top-banner.vue"]]);var Ae={FULL_DATE:{"A-1":["ar","rwar","tw","jp"],"A-2":["www","rw","us","rwus","il","asia"],"A-4":["uk","rwuk","ru","in","rwin","hk","cl","za"]},SHORT_DATE:{"D-1":["www","rw","us","rwus","ar","rwar","tw","il","asia","jp"],"D-3":["uk","rwuk","ru","in","rwin","hk","cl","za"]},FULL_DATE_SHORT_TIME:{"F-7":["ar","rwar","tw","jp"],"F-5":["www","rw","us","rwus","il","asia"],"F-2":["uk","rwuk","ru","in","rwin","hk","cl","za"]}},Ie={fullDate:Ae.FULL_DATE,shortDate:Ae.SHORT_DATE,fullDateShortTime:Ae.FULL_DATE_SHORT_TIME},xe={fullDate:"A-3",shortDate:"D-2",onlyShortTime:"G-2",onlyFullTime:"G-1",fullDateShortTime:"F-4"};function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"shortDate",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e&&(0,Q.N)({time:e,sDateMap:Ie[t],defaultCode:xe[t]},n)}var De={__name:"HotZone",props:(0,i.A)({},he),setup:function(e,t){(0,t.expose)();var n=(0,z.WQ)("analysisInstance"),a=n.vTap,r=n.vExpose,o=(0,K._t)(),c=(null==o?void 0:o.$envs)||{},l=c.siteUID,s=c.lang,u=c.dateLangMap,d={SiteUID:l,lang:s,dateLangMap:u},p=e,h=ce({propData:p.propData,sceneData:{sceneName:"topBanner"}}).cccLink,v=(0,j.Kh)({standard:[],timeTransform:[]}),f=function(e,t){var n,a=(null==(n=null==e?void 0:e.config)?void 0:n.hrefType)||{};return h.getFullLink({item:a,index:t,hotZoneParams:{hot_area:e.name,tag_nm:e.name}})},g=function(e){var t=e.position||{};return{position:"absolute",cursor:"pointer",border:"none",top:100*t.y+"%",left:100*t.x+"%",height:100*t.height+"%",width:100*t.width+"%"}},m=function(e){var t;return e?9===e.length?_()(t=e[0]).call(t,D()(e).call(e,3,9),D()(e).call(e,1,3)):e:""};(0,z.sV)(function(){var e,t,n,a;v.standard=(null==(t=null==(e=p.propData)?void 0:e.hotZones)?void 0:t.standard)||[],v.timeTransform=(null==(a=null==(n=p.propData)?void 0:n.hotZones)?void 0:a.timeTransform)||[]});var w={vTap:a,vExpose:r,appConfigs:o,siteUID:l,lang:s,dateLangMap:u,dateFormatOptions:d,props:p,cccLink:h,hotZones:v,handleGetFullLink:f,getHotStyle:g,getHotTimeComponentsStyle:function(e){var t=e.config||{},n=m(t.fontColor);return(0,i.A)((0,i.A)({},g(e)),{},{color:n||"black",fontSize:"".concat(t.fontSize||"14","px")})},getHotTimeBgColor:function(e){var t,n=e.config||{},a=n.bgColorType,r=void 0===a?"single":a,i=m(n.bgColorStart),o=m(n.bgColorEnd),c={background:"none"};switch(r){case"gradation":c.background=_()(t="linear-gradient(to right, ".concat(i," 0%, ")).call(t,o," 100%)");break;case"single":c.background=i;break;case"none":c.background="none",x()(c,{transform:"none",top:"0",left:"0",padding:"0"})}return c},handleColor:m,getAriaLabel:function(e){var t,n;return(null==(n=null==(t=null==e?void 0:e.config)?void 0:t.hrefType)?void 0:n.ada)||"hotzone"},clickHotZone:function(e,t,n){var a=(null==e?void 0:e.config)||{},r=a.hotZoneType,i=a.hrefType;if(1==+r&&i||n){var o=f(e,t);if(!o||P()(o).call(o,"javascript:;")>-1)return;location.href=o}},getDateTime:function(e){var t,n,a,r,i,o,c,l,s,u=(null==(c=null==e?void 0:e.config)?void 0:c.timeFormat)||"MM/DD HH:mm",p=null==(l=null==e?void 0:e.config)?void 0:l.startTime,h=null==(s=null==e?void 0:e.config)?void 0:s.endTime,v=p?Ee(+p,"shortDate",d):"",f=p?Ee(+p,"onlyShortTime",d):"",g=h?Ee(+h,"shortDate",d):"",m=h?Ee(+h,"onlyShortTime",d):"",y="";switch(u){case"MM/DD HH:mm":case"MM/dd HH:mm":y=g?_()(t=_()(n=_()(a="".concat(v," ")).call(a,f," - ")).call(n,g," ")).call(t,m):_()(r="".concat(v," ")).call(r,f);break;case"MM/DD":y=g?_()(i="".concat(v," - ")).call(i,g):"".concat(v);break;case"HH:mm":y=g?_()(o="".concat(f," - ")).call(o,m):"".concat(f)}return y},reactive:j.Kh,onMounted:z.sV,inject:z.WQ,get timezoneFormatFromSite(){return Ee},get useLink(){return ce},get commonProps(){return he},get useAppConfigs(){return K._t}};return y()(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}},Re={class:"bsc-ccc-hotzone"},Pe=["id"],He=["href","aria-label","onClick"],We=["id"];var Le=ve(De,[["render",function(e,t,n,a,r,i){return(0,z.uX)(),(0,z.CE)("div",Re,[(0,z.Q3)(" 基础热区 "),((0,z.uX)(!0),(0,z.CE)(z.FK,null,(0,z.pI)(a.hotZones.standard,function(t,n){return(0,z.bo)(((0,z.uX)(),(0,z.CE)("span",{id:t.id,key:t.id,style:(0,U.Tr)(a.getHotStyle(t))},[(0,z.Lk)("a",{href:a.handleGetFullLink(t,n),class:"j-hotZone block",role:"link",tabindex:"0","aria-label":a.getAriaLabel(t),onClick:(0,$.D$)(function(e){return a.clickHotZone(t,n)},["prevent"])},null,8,He)],12,Pe)),[[a.vTap,{id:"click_block_main.comp_top-banner",data:{index:n,compIndex:e.index,item:t.config.hrefType,hotZoneParams:{hot_area:t.name,hot_area_loc:n+1,tag_nm:t.name}}}],[a.vExpose,{id:"expose_block_main.comp_top-banner",data:{index:n,compIndex:e.index,item:t.config.hrefType,hotZoneParams:{hot_area:t.name,hot_area_loc:n+1,tag_nm:t.name}}}]])}),128)),(0,z.Q3)(" 时间格式化组件 "),((0,z.uX)(!0),(0,z.CE)(z.FK,null,(0,z.pI)(a.hotZones.timeTransform,function(e){return(0,z.uX)(),(0,z.CE)("span",{id:e.id,key:e.id,style:(0,U.Tr)(a.getHotTimeComponentsStyle(e))},[(0,z.Lk)("a",{href:"javascript:;",class:"bsc-ccc-hotzone__tag",style:(0,U.Tr)(a.getHotTimeBgColor(e))},(0,U.v_)(a.getDateTime(e)),5)],12,We)}),128))])}],["__scopeId","data-v-c3e089db"],["__file","/builds/PRitxt6n/0/npmjs/shein-aidc/busniness-lib/packages/bs/top-banner/laptop/src/ccc/components/StaticImage/HotZone.vue"]]),Be=(0,z.pM)({setup:function(e,t){var n=t.slots,a=(0,j.KR)(!1);return(0,z.sV)(function(){a.value=!0}),function(){return a.value&&n.default?n.default():null}}}),Fe={__name:"Index",props:(0,i.A)({},he),setup:function(e,t){(0,t.expose)();var n=(0,z.WQ)("analysisInstance"),a=n.vTap,r=n.vExpose,i=(0,z.WQ)("cutImg",function(e){return e}),o=e,c=ce({propData:o.propData,sceneData:{sceneName:"topBanner"}}).cccLink,l=o.propData||{},s=l.props,u=void 0===s?{}:s,d=l.hotZones,p=void 0===d?{standard:[]}:d,h=u.items,v=void 0===h?[]:h,f=u.metaData,g=void 0===f?{}:f,m=g.disableBottomSpacing,w=void 0===m||m,_=(0,z.EW)(function(){var e,t,n,a;return"ONE_IMAGE_COMPONENT"===(null==(e=o.propData)?void 0:e.styleType)&&((null==(t=null==p?void 0:p.standard)?void 0:t.length)||(null==(n=null==p?void 0:p.timeTransform)?void 0:n.length)||(null==(a=null==p?void 0:p.label)?void 0:a.length))}),b=function(e,t){return c.getFullLink({item:e,compIndex:o.index,index:t})},C={vTap:a,vExpose:r,cutImg:i,props:o,cccLink:c,propsData:u,hotZones:p,items:v,metaData:g,disableBottomSpacing:w,showHotZone:_,baseCutImg:function(e){return W()(e).call(e,".webp")?e:i?i(e,2550,{min:2e3,max:2e3}):e.replace(/^https?:/,"")},handleGetFullLink:b,clickItem:function(e,t){var n=b(e,t);!n||P()(n).call(n,"javascript:;")>-1||(location.href=n)},computed:z.EW,inject:z.WQ,get BaseImg(){return Y.L},get commonProps(){return he},HotZone:Le,get ClientOnly(){return Be},get useLink(){return ce}};return y()(C,"__isScriptSetup",{enumerable:!1,value:!0}),C}};var Ne=ve(Fe,[["render",function(e,t,n,a,r,i){return(0,z.uX)(),(0,z.CE)("div",{class:(0,U.C4)(["bsc-static-image",a.disableBottomSpacing?"":"bsc-hasBottomSpace",a.showHotZone?"bsc-full-width":""])},[((0,z.uX)(!0),(0,z.CE)(z.FK,null,(0,z.pI)(a.items,function(t,n){return(0,z.bo)(((0,z.uX)(),(0,z.Wv)(a.BaseImg,{key:n,fit:"cover",ratio:t.image&&Number(t.image.ratio),src:a.baseCutImg(t.image&&t.image.src),dataDesignWidth:2550,ada:t.ada||t.hrefTitle||t.hrefType,title:t.hrefTitle||t.hrefType,alt:t.hrefTitle,url:a.handleGetFullLink(t,n),firstScreen:!0,onClick:function(e){return a.clickItem(t,n)}},null,8,["ratio","src","ada","title","alt","url","onClick"])),[[a.vTap,{id:"click_block_main.comp_top-banner",data:{item:t,index:n,compIndex:e.index}}],[a.vExpose,{id:"expose_block_main.comp_top-banner",data:{item:t,index:n,compIndex:e.index}}]])}),128)),(0,z.Q3)(" 热区组件 "),(0,z.bF)(a.ClientOnly,null,{default:(0,z.k6)(function(){return[a.showHotZone?((0,z.uX)(),(0,z.Wv)(a.HotZone,{key:0,index:e.index,context:e.context,propData:e.propData},null,8,["index","context","propData"])):(0,z.Q3)("v-if",!0)]}),_:1})],2)}],["__file","/builds/PRitxt6n/0/npmjs/shein-aidc/busniness-lib/packages/bs/top-banner/laptop/src/ccc/components/StaticImage/Index.vue"]]),Me=C()(y()({__proto__:null,default:Ne},S(),{value:"Module"})),Oe={__name:"ResizeFont",emits:["overflowing"],setup:function(e,t){var n=t.expose,a=t.emit,r=(0,j.KR)([]),i=(0,j.KR)(null);(0,z.Gt)("registerComponent",function(e){r.value.push(e)});var o=function(e){var t=e.clientWidth<h();a("overflowing",t),t&&(s(),(0,z.dY)(function(){var e;!p()&&o(null==(e=i.value)?void 0:e.proxy.$el)}))},c=function(e){var t=e.offsetWidth>h();a("overflowing",t),t&&(d(),(0,z.dY)(function(){var e;!p()&&c(null==(e=i.value)?void 0:e.proxy.$el)}))},l=function(){var e;u()(e=r.value).call(e,function(e){e.isResizeDone=!1})},s=function(){var e;u()(e=r.value).call(e,function(e){e.resizeFontSize()})},d=function(){var e;u()(e=r.value).call(e,function(e){e.enlargeFontSize()})},p=function(){var e;return B()(e=r.value).call(e,function(e){return e.isResizeDone})},h=function(){var e,t=0;return u()(e=r.value).call(e,function(e){var n=window.getComputedStyle(e.$el),a=N()(n.getPropertyValue("margin-left")),r=N()(n.getPropertyValue("margin-right"));t=t+e.$el.offsetWidth+a+r}),t};(0,z.sV)(function(){var e;i.value=(0,z.nI)(),o(null==(e=i.value)?void 0:e.proxy.$el)}),n({handleResizeFontSize:o,handleEnlargeFontSize:c,resetSizeDone:l});var v={emit:a,children:r,instance:i,handleResizeFontSize:o,handleEnlargeFontSize:c,resetSizeDone:l,resizeFontSize:s,enlargeFontSize:d,getResizeDone:p,getChildrenWidth:h,ref:j.KR,provide:z.Gt,onMounted:z.sV,nextTick:z.dY,getCurrentInstance:z.nI};return y()(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}},Ke={class:"bsc-resize-font"};var ze=ve(Oe,[["render",function(e,t,n,a,r,i){return(0,z.uX)(),(0,z.CE)("span",Ke,[(0,z.RG)(e.$slots,"default")])}],["__file","/builds/PRitxt6n/0/npmjs/shein-aidc/busniness-lib/packages/bs/top-banner/laptop/src/ccc/base/ResizeFont/ResizeFont.vue"]]),Ue={__name:"ResizeFontText",props:{initFontSize:{type:Number,default:18},resizeFontMin:{type:Number,default:12},resizeFontStep:{type:Number,default:2},content:{type:String,default:""}},emits:["resizeDone"],setup:function(e,t){var n=t.expose,a=t.emit;n();var r=e,i=a,o=(0,z.WQ)("registerComponent"),c=(0,j.KR)(r.initFontSize),l=(0,j.KR)(!1),s=(0,z.EW)(function(){return{fontSize:"".concat(c.value,"px")}});(0,z.sV)(function(){var e,t=(0,z.nI)();o({$el:null==(e=null==t?void 0:t.proxy)?void 0:e.$el,resizeFontSize:u,enlargeFontSize:d,isResizeDone:l})});var u=function(){if(!l.value){if(c.value<=r.resizeFontMin)return l.value=!0,void i("resizeDone");c.value=Math.max(c.value-r.resizeFontStep,r.resizeFontMin)}},d=function(){if(!l.value){if(c.value>=r.initFontSize)return l.value=!0,void i("resizeDone");c.value=Math.min(c.value+r.resizeFontStep,r.initFontSize)}},p={props:r,emit:i,registerComponent:o,resizeFont:c,isResizeDone:l,resizeFontStyle:s,resizeFontSize:u,enlargeFontSize:d,ref:j.KR,computed:z.EW,onMounted:z.sV,inject:z.WQ,getCurrentInstance:z.nI};return y()(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}};var je=ve(Ue,[["render",function(e,t,n,a,r,i){return(0,z.uX)(),(0,z.CE)("span",{style:(0,U.Tr)(a.resizeFontStyle)},[(0,z.RG)(e.$slots,"default",{},function(){return[(0,z.eW)((0,U.v_)(n.content),1)]})],4)}],["__file","/builds/PRitxt6n/0/npmjs/shein-aidc/busniness-lib/packages/bs/top-banner/laptop/src/ccc/base/ResizeFont/ResizeFontText.vue"]]),$e={__name:"LongBannerCountdown",props:(0,i.A)((0,i.A)({},he),{},{countTimer:{type:Object,default:function(){return{}}}}),setup:function(e,t){var n;(0,t.expose)();var a=(0,K._t)(),r=(null==(n=null==a?void 0:a.$envs)?void 0:n.cssRight)||!1,i={2:"H",4:"M",6:"S"},o=e,c=(0,j.KR)(null),s=(o.propData||{}).props,u=void 0===s?{}:s,d=(u||{}).metaData,p=void 0===d?{}:d,h=p||{},v=h.isOpenCountdown,f=void 0===v||v,g=h.countdownType,m=void 0===g?1:g,w=(0,j.KR)(1350),_=(0,j.KR)(280),b=(0,j.KR)(2560),C=(0,z.EW)(function(){var e;return(null==(e=o.countTimer)?void 0:e.timeObj)||{}}),k=(0,z.EW)(function(){var e=(p||{}).numColor;return{textAlign:"center",color:void 0===e?"#222":e}}),S=(0,z.EW)(function(){var e=(p||{}).hmsColor;return{color:void 0===e?"#fff":e}}),T=(0,z.EW)(function(){var e={width:_.value+"px"};return r?(e.right="unset",e.left=0):e.right=0,e}),A=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!(("undefined"==typeof window?"undefined":(0,l.A)(window))>"u")){var a=null==(e=null==document?void 0:document.documentElement)?void 0:e.clientWidth;if(a<1446?(w.value=a-48-48,_.value=w.value/1350*280):(w.value=1350,_.value=280),!n){var r=b.value<a;null==(t=c.value)||t.resetSizeDone(),(0,z.dY)(function(){var e,t,n,a;r?null==(t=c.value)||t.handleEnlargeFontSize(null==(e=c.value)?void 0:e.$el):null==(a=c.value)||a.handleResizeFontSize(null==(n=c.value)?void 0:n.$el)})}b.value=a}};(0,z.sV)(function(){A(!0),window.addEventListener("resize",(0,q.s)({func:function(){A()},wait:200}))}),(0,z.xo)(function(){window.removeEventListener("resize",A)});var I={appConfigs:a,GB_cssRight:r,HMSContent:i,props:o,countdownResizeFont:c,propDataProps:u,metaData:p,isOpenCountdown:f,countdownType:m,countMinWidth:w,countWidth:_,widthWithoutScrollbar:b,timeObj:C,itemStyle:k,signStyle:S,countdownStyle:T,getHMSContent:function(e){switch(e){case 1:return C.value.H;case 3:return C.value.M;case 5:return C.value.S}return i[e]},resizeHandle:A,ref:j.KR,computed:z.EW,onMounted:z.sV,onBeforeUnmount:z.xo,nextTick:z.dY,get debounce(){return q.s},get commonProps(){return he},StaticImage:Ne,ResizeFont:ze,ResizeFontText:je,get useAppConfigs(){return K._t}};return y()(I,"__isScriptSetup",{enumerable:!1,value:!0}),I}},Ge={class:"bsc-banner-countdown"},qe={class:"bsc-banner-countdown__relative"};var Qe=ve($e,[["render",function(e,t,n,a,r,i){return(0,z.uX)(),(0,z.CE)("div",Ge,[(0,z.bF)(a.StaticImage,{context:e.context,"prop-data":e.propData,index:e.index,class:"longBannerHeight-full"},null,8,["context","prop-data","index"]),a.isOpenCountdown&&n.countTimer.timeId?((0,z.uX)(),(0,z.CE)("div",{key:0,class:"bsc-banner-countdown__absulote",style:(0,U.Tr)({minWidth:a.countMinWidth+"px"})},[(0,z.Lk)("div",qe,[(0,z.bF)(a.ResizeFont,{ref:"countdownResizeFont",class:"bsc-banner-countdown__countdown",style:(0,U.Tr)(a.countdownStyle)},{default:(0,z.k6)(function(){return[3==a.countdownType&&Number(a.timeObj.D)?((0,z.uX)(),(0,z.CE)(z.FK,{key:0},[(0,z.bF)(a.ResizeFontText,{style:(0,U.Tr)(a.itemStyle),"init-font-size":24,"resize-font-min":5,"resize-font-step":1,content:a.timeObj.D},null,8,["style","content"]),(0,z.bF)(a.ResizeFontText,{style:(0,U.Tr)(a.signStyle),"init-font-size":24,"resize-font-min":5,"resize-font-step":1,content:"D"},null,8,["style"])],64)):(0,z.Q3)("v-if",!0),((0,z.uX)(),(0,z.CE)(z.FK,null,(0,z.pI)(6,function(e){return(0,z.bF)(a.ResizeFontText,{key:e,style:(0,U.Tr)(e%2?a.itemStyle:a.signStyle),"init-font-size":24,"resize-font-min":5,"resize-font-step":1,content:a.getHMSContent(e)},null,8,["style","content"])}),64))]}),_:1},8,["style"])])],4)):(0,z.Q3)("v-if",!0)])}],["__scopeId","data-v-5d04beaf"],["__file","/builds/PRitxt6n/0/npmjs/shein-aidc/busniness-lib/packages/bs/top-banner/laptop/src/ccc/components/CountDown/LongBannerCountdown.vue"]]),Ze={__name:"Index",props:(0,i.A)({},he),setup:function(e,t){(0,t.expose)();var n=e,a=(0,z.WQ)("getBannerHeight"),r=(0,j.KR)(!1),i=(0,j.KR)(!1),o=(0,j.KR)(0),c=(0,j.KR)(O()()),l=(0,j.KR)(new Z.U({endFunc:function(){return i.value=!0}})),s=function(e){var t=e.startTime,n=e.endTime,a=e.loopTime;if(c.value>t&&c.value<n){var i=(c.value-t)/1e3,l=(n-c.value)/1e3,s=(n-t)/1e3%(3600*a);o.value=i%(3600*a)&&l>s?3600*a-i%(3600*a):l}else c.value<t?(o.value=(new Date(t).getTime()-c.value)/1e3,r.value=!0):n<c.value&&(r.value=!0)},u=function(e){var t=e.startTime,n=e.endTime;new Date(t).getTime()<c.value&&new Date(n).getTime()>c.value?o.value=(new Date(n).getTime()-c.value)/1e3:new Date(t).getTime()>c.value?(o.value=(new Date(t).getTime()-c.value)/1e3,r.value=!0):new Date(n).getTime()<c.value&&(r.value=!0)},d=function(){var e=(n.propData||{}).props,t=(void 0===e?{}:e).metaData||{},a=t.countdownRange,r=void 0===a?{}:a,i=t.countdownType,c=void 0===i?1:i,d=t.loopTime,p=r||{},h=p.startTime,v=p.endTime;1==c?s({startTime:+h,endTime:+v,loopTime:+d}):3==c&&u({startTime:+h,endTime:+v}),l.value.start({seconds:o.value,dayMode:!0})};(0,z.sV)(function(){d()});var p={props:n,getBannerHeight:a,isHide:r,isEnd:i,countTime:o,curTime:c,countTimer:l,handleLoopCountdown:s,handleNoLoopCountdown:u,initCountdown:d,ref:j.KR,onMounted:z.sV,inject:z.WQ,get CountDown(){return Z.U},get commonProps(){return he},LongBannerCountdown:Qe};return y()(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}};var Xe=ve(Ze,[["render",function(e,t,n,a,r,i){return a.isHide||a.isEnd?(0,z.Q3)("v-if",!0):((0,z.uX)(),(0,z.CE)("div",{key:0,style:(0,U.Tr)({height:"".concat(a.getBannerHeight(),"px")})},[(0,z.bF)(a.LongBannerCountdown,{"prop-data":e.propData,index:e.index,"count-timer":a.countTimer},null,8,["prop-data","index","count-timer"])],4))}],["__file","/builds/PRitxt6n/0/npmjs/shein-aidc/busniness-lib/packages/bs/top-banner/laptop/src/ccc/components/CountDown/Index.vue"]]),Ve=C()(y()({__proto__:null,default:Xe},S(),{value:"Module"}))},qrzY:(e,t,n)=>{n.d(t,{fk:()=>dt});var a=n("2jEV"),r=n("7IdM"),i=n("5Wdv"),o=n("Cnx2"),c=n("1WM/"),l=n("6ARB"),s=n("4ZC2"),u=n("ZJZb"),d=n("QMV9"),p=n("qItV"),h=n.n(p),v=n("O/ds"),f=n.n(v),g=n("gAU2"),m=n.n(g),y=n("TDGH"),w=n.n(y),_=n("XrCz"),b=n.n(_),C=n("xsts"),k=n.n(C),S=n("N1wU"),T=n.n(S),A=n("U8cm"),I=n.n(A),x=n("BJYW"),E=n.n(x),D=n("U+HC"),R=n.n(D),P=n("CtJl"),H=n.n(P),W=n("gV0c"),L=n.n(W),B=n("efps"),F=n.n(B),N=n("1SGe"),M=n.n(N),O=n("5k+Q"),K=n.n(O),z=n("wG1B"),U=n.n(z),j=n("HJGT"),$=n.n(j),G=n("8yX7"),q=n.n(G),Q=n("Rj25"),Z=n.n(Q),X=n("twzR"),V=n("1gEK"),J=n("OhDQ"),Y=n("Kk1a"),ee=n("2QGG"),te=n("ffKx"),ne=n("+Awh"),ae=n("ENUY"),re=n("RFDR"),ie=n("qBVl"),oe=n("yY5s"),ce=n("fu2U"),le=n("y9UA"),se=n("37/F"),ue=n("dQ/M"),de=n("WtNE"),pe=n("ujqc"),he=h(),ve=function(e,t,n){return function(e,t,n){return t in e?he(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==(0,d.A)(t)?t+"":t,n)},fe=function(){var e=(0,u.A)((0,l.A)().m(function e(t,n){var a,r;return(0,l.A)().w(function(e){for(;;)switch(e.n){case 0:return a=(0,s.A)((0,s.A)({url:"/product/search/v3/get_keywords",method:(null==n?void 0:n.method)||"GET",params:t},"POST"===(null==n?void 0:n.method)?null:{headers:{"Content-Type":"multipart/form-data"}}),{},{featureKey:(null==n?void 0:n.featureKey)||""}),e.n=1,this.$schttp(a);case 1:return r=e.v,e.a(2,r.data)}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),ge=function(){var e=(0,u.A)((0,l.A)().m(function e(t){var n;return(0,l.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.$schttp({url:"/product/association_words",params:t,headers:{"Content-Type":"multipart/form-data"}});case 1:return n=e.v,e.a(2,n.data)}},e,this)}));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=(0,u.A)((0,l.A)().m(function e(t){var n,a,r,i;return(0,l.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,this.$schttp({url:"/product/get_products_by_keywords?keywords=".concat(t),method:"POST"});case 1:if(n=e.v,!(a=n.data).info.page_id){e.n=4;break}return e.p=2,r=new(f())(a.info.page_id),i=a.info.page_id.replace(r.origin,""),e.a(2,{hrefTarget:i,hrefType:i?"webLink":""});case 3:return e.p=3,e.v,e.a(2,{hrefTarget:"",hrefType:""});case 4:return e.a(2,{hrefTarget:"",hrefType:""});case 5:return e.a(2)}},e,this,[[2,3]])}));return function(t){return e.apply(this,arguments)}}(),ye=m()(h()({__proto__:null,getAssociationWordsWithBff:ge,getKeywordsWithBff:fe,getMarketingCodeWithBff:me},w(),{value:"Module"}));function we(e){var t=e.dataSource,n=void 0===t?{}:t,a=e.appConfigs;return(0,te.J)({standard:ye},n,a)}var _e={"click_your_sa_event_name.comp_search-box":function(e){var t=e.extraData;return(0,s.A)({},t)}};function be(e){return(0,oe.q)(_e,e)}var Ce=function(){return(0,c.A)(function e(t){(0,o.A)(this,e),ve(this,"_subscribe"),this._subscribe=t},[{key:"subscribe",value:function(e){return"function"==typeof e?this._subscribe({next:e}):this._subscribe(e)}}])}();var ke=function(e,t){var n,a=e.__vccOpts||e,o=(0,i.A)(t);try{for(o.s();!(n=o.n()).done;){var c=(0,r.A)(n.value,2),l=c[0],s=c[1];a[l]=s}}catch(u){o.e(u)}finally{o.f()}return a},Se={name:"AssociationNew",components:{Icon:ce.A},props:{correctionNum:{type:Number,default:0},popularNum:{type:Number,default:0},correction:{type:String,default:""},associationWords:{type:Object,default:function(){return{}}},itemActiveIndex:{type:Number,default:-1},language:{type:Object,default:function(){return{}}}},emits:["goSearchPage","onItemActiveIndex"],data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},unmounted:function(){},methods:{handlePopularMouseEnter:function(e){var t=this.correctionNum+e;this.$emit("onItemActiveIndex",t)},handlePopularMouseLeave:function(){this.$emit("onItemActiveIndex",-1)},handleCorrectionMouseEnter:function(){this.$emit("onItemActiveIndex",0)},handleCorrectionMouseLeave:function(){this.$emit("onItemActiveIndex",-1)},goSearchPage:function(e,t){this.$emit("goSearchPage",(0,s.A)({event:e},t))},handleImageError:function(e){e.imgUrl=""}}},Te={class:"association-words"},Ae={class:"association-half"},Ie=["onClick","onMouseenter"],xe=["data-src","onError"],Ee=["innerHTML"];var De=ke(Se,[["render",function(e,t,n,a,r,i){var o=(0,V.g2)("Icon");return(0,V.uX)(),(0,V.CE)("div",Te,[(0,V.Lk)("div",Ae,[(0,V.Q3)(" correction "),n.correctionNum?((0,V.uX)(),(0,V.CE)("div",{key:0,class:(0,J.C4)(["association-words-item j-association-words-item",["correction",{active:0==n.itemActiveIndex}]]),onClick:t[0]||(t[0]=function(e){return i.goSearchPage(e,{keyword:n.correction,result_type:8,position:1})}),onMouseenter:t[1]||(t[1]=function(){return i.handleCorrectionMouseEnter&&i.handleCorrectionMouseEnter.apply(i,arguments)}),onMouseleave:t[2]||(t[2]=function(){return i.handleCorrectionMouseLeave&&i.handleCorrectionMouseLeave.apply(i,arguments)})},[(0,V.bF)(o,{name:"sui_icon_search_black_14px",size:"14px",class:"popular-search-icon"}),(0,V.Lk)("span",{class:(0,J.C4)(e.active)},(0,J.v_)(n.language.SHEIN_KEY_PC_16870)+": ",3),(0,V.eW)((0,J.v_)(n.correction),1)],34)):(0,V.Q3)("v-if",!0),(0,V.Q3)(" popular "),((0,V.uX)(!0),(0,V.CE)(V.FK,null,(0,V.pI)(n.associationWords.word,function(e,a){return(0,V.uX)(),(0,V.CE)("div",{key:"popular"+a,class:(0,J.C4)(["association-words-item j-association-words-item",{active:n.itemActiveIndex==n.correctionNum+a,"has-img":!!e.imgUrl}]),onClick:function(t){return i.goSearchPage(t,{wordOriginRecord:{word_id:e.word_id,trace_id:e.trace_id},keyword:e.keywords,result_type:n.correctionNum?8:4,position:n.correctionNum+a+1,tag:e.tag,wordTagType:null==e?void 0:e.wordTagType,wordExtraReport:{hasImg:e.imgUrl?1:0}})},onMouseenter:function(e){return i.handlePopularMouseEnter(a)},onMouseleave:t[3]||(t[3]=function(){return i.handlePopularMouseLeave&&i.handlePopularMouseLeave.apply(i,arguments)})},[(0,V.bF)(o,{name:"sui_icon_search_black_14px",size:"14px",class:"popular-search-icon",style:(0,J.Tr)({display:e.imgUrl?"none !important":""})},null,8,["style"]),(0,V.bo)((0,V.Lk)("img",{class:(0,J.C4)(["lazyload popular-search-img",{visible:!!e.imgUrl}]),"data-src":e.imgUrl,"data-design-width":"32",width:"32",height:"32",onError:function(t){return i.handleImageError(e)}},null,42,xe),[[Y.aG,e.imgUrl]]),(0,V.Lk)("div",{innerHTML:e.transformed},null,8,Ee)],42,Ie)}),128))])])}],["__file","/builds/PRitxt6n/0/npmjs/shein-aidc/busniness-lib/packages/bs/search-box/laptop/src/components/AssociationList/AssociationNew.vue"]]),Re={name:"HistoryHotWords",components:{Icon:ce.A,sui_icon_close_16px_1:se.A,sui_icon_delete_14px_1:ue.A,sui_icon_delete_16px_1:de.A,sui_icon_hot_12px:pe.A},props:{language:{type:Object,default:function(){return{}}},historyWords:{type:Array,default:function(){return[]}},hotWords:{type:Array,default:function(){return[]}},hotImages:{type:Array,default:function(){return[]}},showClearButton:{type:Boolean,default:!1},isBigSearch:{type:Boolean,default:!1},associationTagTotal:{type:Number,default:0}},emits:["goSearchPage","hoverCloseIcon","clickHistoryWords","clearCurSearchWord","cleanHistoryWord","closeClearBtn"],data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},unmounted:function(){},methods:{goSearchPage:function(e){this.$emit("goSearchPage",e)},clickHistoryWords:function(e){var t=e.item,n=e.index;this.$emit("clickHistoryWords",{item:t,index:n})},clearCurSearchWord:function(e){this.$emit("clearCurSearchWord",e)},cleanHistoryWord:function(){this.$emit("cleanHistoryWord")},closeClearBtn:function(){this.$emit("closeClearBtn")}}},Pe={class:"history-hot-words"},He={key:0,class:"search-ctn-half"},We={class:"history-words-title"},Le={class:"history-words-items"},Be=["onClick"],Fe={class:"search-words__close-icon"},Ne={key:0,class:"history-words-clear"},Me={key:1,class:"search-ctn-half"},Oe={class:"hot-words-title"},Ke=["title","onClick"],ze={class:"padd-wrap"},Ue=["src"],je=["title","onClick"],$e={style:{color:"#9462ff","font-weight":"400"}};var Ge=ke(Re,[["render",function(e,t,n,a,r,i){var o=(0,V.g2)("sui_icon_close_16px_1"),c=(0,V.g2)("sui_icon_delete_14px_1"),l=(0,V.g2)("sui_icon_delete_16px_1"),s=(0,V.g2)("sui_icon_hot_12px"),u=(0,V.g2)("Icon");return(0,V.uX)(),(0,V.CE)("div",Pe,[n.historyWords.length?((0,V.uX)(),(0,V.CE)("div",He,[(0,V.Lk)("div",We,(0,J.v_)(n.language.SHEIN_KEY_PC_15867||"Recently Searched"),1),(0,V.Lk)("div",Le,[((0,V.uX)(!0),(0,V.CE)(V.FK,null,(0,V.pI)(n.historyWords,function(e,t){return(0,V.uX)(),(0,V.CE)("div",{key:"history"+t,class:(0,J.C4)(["history-words-item","j-history-words-item",n.showClearButton?"":"history-words-item-is-select"]),onClick:(0,Y.D$)(function(n){return i.clickHistoryWords({item:e,index:t})},["stop"])},[(0,V.eW)((0,J.v_)(e.keywords)+" ",1),(0,V.Lk)("span",Fe,[(0,V.bo)((0,V.Lk)("span",null,[(0,V.bF)(o,{size:"22px",style:{"line-height":"22px"},onClick:(0,Y.D$)(function(e){return i.clearCurSearchWord(t)},["stop"])},null,8,["onClick"])],512),[[Y.aG,n.isBigSearch&&!n.showClearButton]])])],10,Be)}),128))]),n.showClearButton?((0,V.uX)(),(0,V.CE)("div",Ne,[n.isBigSearch?((0,V.uX)(),(0,V.Wv)(c,{key:0,size:"14px",style:{"line-height":"14px"},onClick:(0,Y.D$)(i.cleanHistoryWord,["stop"])},null,8,["onClick"])):((0,V.uX)(),(0,V.Wv)(l,{key:1,size:"14px",style:{"line-height":"14px"},onClick:(0,Y.D$)(i.cleanHistoryWord,["stop"])},null,8,["onClick"]))])):((0,V.uX)(),(0,V.CE)("i",{key:1,class:"history-words-clear-done",onClick:t[0]||(t[0]=(0,Y.D$)(function(){return i.closeClearBtn&&i.closeClearBtn.apply(i,arguments)},["stop"]))},(0,J.v_)(n.language.SHEIN_KEY_PC_25786||"Done"),1))])):(0,V.Q3)("v-if",!0),n.hotWords.length||n.hotImages.length?((0,V.uX)(),(0,V.CE)("div",Me,[(0,V.Lk)("div",Oe,(0,J.v_)(n.language.SHEIN_KEY_PC_19920||"Search Discovery"),1),(0,V.Lk)("div",{class:(0,J.C4)(["hot-words-img",{"hot-words-img2":!n.isBigSearch,"hasnot-historywords":!n.historyWords.length}])},[((0,V.uX)(!0),(0,V.CE)(V.FK,null,(0,V.pI)(n.hotImages,function(e,t){return(0,V.uX)(),(0,V.CE)("div",{key:"hotImage"+t,class:"hot-words-item_img j-hot-words-item",title:e.word,onClick:function(n){return i.goSearchPage({keyword:e,result_type:"ccc"===e.from?9:6,position:t+1,wordTagType:null==e?void 0:e.wordTagType})}},[(0,V.Lk)("div",ze,[(0,V.Lk)("img",{src:e.imgSrc},null,8,Ue),(0,V.Lk)("div",{class:(0,J.C4)(["padd-icon-wrap",{"flex-reverse":0!==n.associationTagTotal}]),style:(0,J.Tr)({"justify-content":0!==n.associationTagTotal?"center":""})},[(0,V.Lk)("span",{class:"search-hot__icon",style:(0,J.Tr)({margin:0!==n.associationTagTotal?"0 0 0 4px":""})},[(0,V.bF)(s,{size:"14px",style:{"line-height":"14px"}})],4),(0,V.Lk)("span",{class:"padd-wrap-text",style:(0,J.Tr)({"text-align":0!==n.associationTagTotal?"center":""})},(0,J.v_)(e.word),5)],6)])],8,Ke)}),128))],2),n.hotWords.length?((0,V.uX)(),(0,V.CE)("div",{key:0,class:(0,J.C4)(["hotwords-item-ctn",{"has-hotwords-img":n.hotImages.length||!n.historyWords.length}])},[((0,V.uX)(!0),(0,V.CE)(V.FK,null,(0,V.pI)(n.hotWords,function(e,t){var a,r,o,c;return(0,V.uX)(),(0,V.CE)("div",{key:"hot"+t,class:(0,J.C4)(["j-hot-words-item hot-words-item active",{"hot-words-item_active":e.active&&!k()(a=["trendword","trendstore"]).call(a,null==(o=e.wordLabel)?void 0:o.labelType)}]),title:e.word,onClick:function(a){return i.goSearchPage({keyword:e,result_type:"ccc"===e.from?9:6,position:t+1+n.hotImages.length,wordTagType:null==e?void 0:e.wordTagType})}},[(0,V.Lk)("p",{class:(0,J.C4)(["item-warp",{"flex-reverse":0!==n.associationTagTotal}])},[k()(r=["trendword","trendstore"]).call(r,null==(c=e.wordLabel)?void 0:c.labelType)?((0,V.uX)(),(0,V.CE)(V.FK,{key:0},[(0,V.Lk)("b",$e,(0,J.v_)(e.word),1),(0,V.bF)(u,{name:"sui_icon_search_trends_16px",size:"12px",color:"#9462FF",style:{"margin-right":"3px","line-height":"100%"},class:"word-hk-tag not-fsp-element"})],64)):((0,V.uX)(),(0,V.CE)(V.FK,{key:1},[e.active?((0,V.uX)(),(0,V.CE)("span",{key:0,class:"search-hot__icon search-hot__icon-words",style:(0,J.Tr)({margin:0!==n.associationTagTotal?"0 0 0 4px":""})},[(0,V.bF)(s,{size:"14px",style:{"line-height":"14px"}})],4)):(0,V.Q3)("v-if",!0),(0,V.eW)(" "+(0,J.v_)(e.word),1)],64))],2)],10,je)}),128))],2)):(0,V.Q3)("v-if",!0)])):(0,V.Q3)("v-if",!0)])}],["__scopeId","data-v-8d3d0bb9"],["__file","/builds/PRitxt6n/0/npmjs/shein-aidc/busniness-lib/packages/bs/search-box/laptop/src/components/HistoryHotWords/HistoryHotWords.vue"]]);function qe(e){return null!==e&&"object"===(0,d.A)(e)}function Qe(e){!function(e){var t=(0,ne.e)({key:"search_redir"})&&(0,ne.e)({key:"search_words"});if(t){var n=t,a=localStorage.getItem("".concat(e,"SearchHisotryWords"));try{a=JSON.parse(a)||[]}catch(r){a=[]}(a=T()(a).call(a,function(e){return qe(e)?n!=e.keywords:n!=e})).unshift(n),localStorage.setItem("".concat(e,"SearchHisotryWords"),I()(E()(a).call(a,0,10)))}}(e),function(e){if(void 0!==window.gbRawData){var t=window.gbRawData.results||window.gbRawData,n=t.cat_info,a=t.searchKeywords;if(n&&a&&+a.origin_total>0){var r=n.keywords,i=n.search_id,o=n.search_cat,c=localStorage.getItem("".concat(e,"SearchHisotryWords"));try{c=JSON.parse(c)||[]}catch(l){c=[]}c=T()(c).call(c,function(e){return qe(e)?r!=e.keywords:r!=e}),i?c.unshift({keywords:r,guideObj:{search_id:i,search_cat:o}}):c.unshift(r),localStorage.setItem("".concat(e,"SearchHisotryWords"),I()(E()(c).call(c,0,10)))}}}(e)}var Ze={EDIT_SEARCH:2,DEFAULT_SEARCH:3,SUGGESTION_SEARCH:4,RECENT_SEARCH:5,HOT_SEARCH:6,SUGGESTION_SEARCH_CATEGORY:7,SUGGESTION_SEARCH_FEEDBACK:8,HOT_SEARCH_PIC:9,LIST_FLOW:10,SEARCH_TREND:11,LIST_SEARCH:12,SEARCH_DISCOVERY:13,COMPOUND_SEARCH:15,SUGGSTION_ATTRI:18,CORRECT_ORIGINAL_WORD:19},Xe=1,Ve=2,Je=4,Ye={EDIT_SEARCH:Xe,DEFAULT_SEARCH:3,SUGGESTION_SEARCH:Ve,RECENT_SEARCH:Xe,HOT_SEARCH:Je,SUGGESTION_SEARCH_CATEGORY:Ve,SUGGESTION_SEARCH_FEEDBACK:Ve,HOT_SEARCH_PIC:Je,LIST_FLOW:Je,SEARCH_TREND:5,LIST_SEARCH:Je,SEARCH_DISCOVERY:Je,COMPOUND_SEARCH:Xe,SUGGSTION_ATTRI:Ve,CORRECT_ORIGINAL_WORD:Xe},et=function(e){var t,n=T()(t=R()(Ze)).call(t,function(t){return(0,r.A)(t,2)[1]===Number(e)})[0]||[],a=(0,r.A)(n,1)[0];return a?Ye[a]:Xe},tt=(0,V.pM)({__name:"DefaultSearchBox",props:{lang:{type:String,required:!1,default:"us"},siteUID:{type:String,required:!1,default:"us"},language:{type:null,required:!1,default:function(){return{SHEIN_KEY_PC_20094:"Search",SHEIN_KEY_PC_16957:"search {0} in {1}",SHEIN_KEY_PC_16956:"{0} in {1}",SHEIN_KEY_PC_30767:"Trends",SHEIN_KEY_PC_28049:"Recent",SHEIN_KEY_PC_16870:"Did you mean",SHEIN_KEY_PC_15811:"Category",SHEIN_KEY_PC_16655:"Popular"}}},isBigSearch:{type:Boolean,required:!1,default:!0},isRoundSearch:{type:Boolean,required:!1,default:!1},isCorrectionRule:{type:Boolean,required:!1,default:!1},isNewSuggestUI:{type:Boolean,required:!1},associationHKTagOn:{type:Boolean,required:!1,default:!1},searchTerms:{type:Array,required:!1,default:function(){return[]}},getTrackData:{type:Function,required:!1,default:function(){return{}}},fetchAssociationWordsParams:{type:null,required:!1,default:{}},fetchSearchTermsParams:{type:Object,required:!1},fsData:{type:null,required:!1},dataSource:{type:Object,required:!1},analysisSource:{type:Object,required:!1}},emits:["resolveSearchTerms","clearSearchTerm","inputFocus","exposeAssoc","expose_search","slide_expose_search","clearCurSearchWord"],setup:function(e,t){var n=t.expose,i=t.emit,o=(0,X._t)(),c=e,d=be(c.analysisSource);(0,V.Gt)("analysisInstance",d);var p,v=we({appConfigs:o,dataSource:c.dataSource}),f=i,g=(0,ee.KR)(null),m=(0,ee.KR)(!1),y=(0,ee.KR)(!1),w=(0,ee.KR)(null),_=(0,ee.KR)({}),C=(0,ee.KR)([]),S=(0,ee.KR)([]),T=(0,ee.KR)([]),A=(0,ee.KR)([]),x=(0,ee.KR)(!0),D=(0,ee.KR)({keywords:""}),R=(0,ee.KR)({fetchStatus:"idle",itemActiveIndex:-1,isSelectByKeyboard:!1,lastEditType:"",saFirstView:!0}),P=(0,ee.KR)({brand:null,crowdId:null,siteLang:null,terminal:null,weight:null,word:"",imgSrc:"",pageId:null,pageType:null,pageUrl:null,sort:null,type:"",from:"",mall_code_list:null,route_url:null,cateIds:null,categoryChannel:null,wordLabel:{icon:"",labelType:"",labelFront:""}}),W=(0,ee.KR)(""),B=(0,ee.KR)({word:[]}),N=v.getKeywordsWithBff,O=v.getAssociationWordsWithBff,z=function(e){var t,n=e||{},r=n.is_suggested,i=n.wordsInfo,o=n.catWordInfo;r?e.words=(0,a.A)(i||[]):e.words=H()(t=[]).call(t,(0,a.A)(o||[]),(0,a.A)(i||[]))},j=function(e){var t,n,a,r,i=e.keyword,o=e.searchCatName;return"hk"===c.siteUID||"tw"===c.siteUID?null==(n=null==(t=c.language.SHEIN_KEY_PC_16957)?void 0:t.replace("{1}",i))?void 0:n.replace("{0}",o):null==(r=null==(a=c.language.SHEIN_KEY_PC_16956)?void 0:a.replace("{0}",i))?void 0:r.replace("{1}",o)},G=function(){var e=(0,u.A)((0,l.A)().m(function e(t){var n,a,r,i,o,u,d,p,h,v,f,g,m,y,w,b,C;return(0,l.A)().w(function(e){for(;;)switch(e.n){case 0:if((i=(0,s.A)({word:t.replace(/^\s+/g,"").replace(/\s+/g," ")},c.fetchAssociationWordsParams)).word){e.n=1;break}return e.a(2);case 1:return e.n=2,O(i);case 2:if(o=e.v,d=(u=o||{}).code,p=u.info,_.value={associationTraceId:p.trace_id,inputWordId:p.input_word_id,inputWord:L()(n=i.word).call(n),type:"originWordIdAndAssociateTraceId"},0==d){e.n=3;break}return e.a(2);case 3:z(p),v=(h=p||{}).words,f=h.is_suggested,g=h.guideWords,m="",y="match-text",w=function(e){var n,a,r,i=e.text,o=e.tagType,l=void 0===o?"":o,s=m&&"string"==typeof m?i.replace(m,H()(n='<span class="'.concat(y,'">')).call(n,m,"</span>")):i.replace(new RegExp("(".concat(L()(t).call(t),")"),"i"),'<span class="'.concat(y,'">$1</span>'));return H()(a="<div class=\"association-item-warp\">\n      <span class='association-item-text'>".concat(s,"</span>\n      ")).call(a,k()(r=["trendword","trendstore"]).call(r,l)?'<b class="association-hk-tag">'.concat(c.language.SHEIN_KEY_PC_30767,"</b>"):"","\n    </div>")},b=function(e){return F()(e)?M()(e).call(e,function(e){var t,n="";return e.wordLabel&&k()(t=["trendword","trendstore"]).call(t,e.wordLabel.labelType)&&(n=e.wordLabel.labelType),{keywords:e.word,word_id:e.word_id||"-",trace_id:p.trace_id||"-",tag:n,transformed:w({text:e.word,tagType:n}),wordTagType:(null==e?void 0:e.wordTagType)||"common",imgUrl:e.img_url}}):[]},f&&(c.isCorrectionRule?v=null:m=(F()(v)&&v.shift()).word||""),W.value=m,(C=(null==g?void 0:g[0])||{}).word&&v.unshift((0,s.A)({tags:[]},C)),v=E()(a=b(v)).call(a,0,20-de.value),D.value.keywords&&L()(r=D.value.keywords).call(r)&&(B.value={word:v});case 4:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=(0,u.A)((0,l.A)().m(function e(t,n){var a,i,o,c,u,d,p,h,v,g,m;return(0,l.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return a=t.goods_id,R.value.fetchStatus="pending",e.p=1,e.n=2,K().all([N((0,s.A)({word_type:1,goods_id:a,scene:a?"detail":"home"},n)),N({word_type:2,scene:"home"})]);case 2:d=e.v,p=(0,r.A)(d,2),h=p[0],v=p[1],g=M()(c=(null==(i=h.info)?void 0:i.keywords)||[]).call(c,function(e){return(0,s.A)({trace_id:h.info.trace_id},e)}),m=M()(u=(null==(o=v.info)?void 0:o.keywords)||[]).call(u,function(e){return(0,s.A)({trace_id:v.info.trace_id},e)}),f("resolveSearchTerms",g,h.info),J({keywords:g,hotKeywords:m,goods_id:a}),te(),R.value.fetchStatus="resolve",e.n=4;break;case 3:e.p=3,e.v,R.value.fetchStatus="reject";case 4:return e.a(2)}},e,null,[[1,3]])}));return function(t,n){return e.apply(this,arguments)}}(),J=function(e){var t=e.keywords,n=e.hotKeywords,a=e.goods_id;if(F()(t)&&(S.value=a?E()(t).call(t,0,1):t,P.value=S.value[0]||{}),n=a&&F()(t)&&t.length?t||[]:n,F()(n)){var r=U()(n).call(n,function(e,t,n){return t.active=n<4,t.imgSrc?e.hotImages.push(t):e.hotWords.push(t),e},{hotImages:[],hotWords:[]});A.value=r.hotImages,T.value=r.hotWords}S.value.length&&!m.value||f("expose_search",{currentWord:D.value.guideObj?D.value.guideObj.keywords:D.value.keywords,defaultWords:S.value})},Y=null,te=function(){Y&&Y.unsubscribe();var e,t=(e=4e3,new Ce(function(t){var n=0,a=b()(function(){t.next&&t.next(n++)},e);return{unsubscribe:function(){return clearInterval(a)}}}));Y=t.subscribe({next:function(e){var t=e%S.value.length,n=S.value[t];n&&(P.value=n,f("slide_expose_search",{searchData:P.value,currentWord:D.value,searchTerm:n,index:t,defaultWords:S.value}))},error:function(e){},complete:function(){}})},oe=(0,ae.s)({func:(p=(0,u.A)((0,l.A)().m(function e(t){var n;return(0,l.A)().w(function(e){for(;;)switch(e.n){case 0:return n=t.target.value,e.n=1,G(n);case 1:f("exposeAssoc",{status:R.value,correctionStr:W.value,associationNum:he.value,searchData:P.value,currentWord:D.value,associationWords:B.value,historyWords:C.value,hotWords:T.value,hotImages:A.value});case 2:return e.a(2)}},e)})),function(e){return p.apply(this,arguments)}),wait:300}),se=function(){var e;document.addEventListener("click",function(e){if(e.target){var t=e.target,n=t.closest(".search-box-regional"),a=t.closest(".search-button");if(c.isBigSearch&&!x.value)return;n&&!a?y.value=!0:(y.value=!1,f("inputFocus",{activedMask:!1,currentWord:D.value,associationWords:B.value,historyWords:C.value,hotWords:T.value,hotImages:A.value}))}}),null==(e=g.value)||e.addEventListener("input",oe)},ue=(0,V.EW)(function(){return"resolve"===R.value.fetchStatus&&!D.value.keywords&&!P.value.word}),de=(0,V.EW)(function(){return W.value?1:0}),pe=(0,V.EW)(function(){return B.value.word.length}),he=(0,V.EW)(function(){return de.value+pe.value}),ve=(0,V.EW)(function(){return C.value.length+T.value.length+A.value.length}),fe=function(){var e=(0,u.A)((0,l.A)().m(function e(t){var n,a,r,i,o,u,d,p,h,f,g,m,y,w,_,b,C,S,T,A,I,x,E,R,P,W,B,F,N,M,O,K,z,U,j,G,q,Q,Z,X,V,J,Y,ee,te,ae,ie,oe,ce;return(0,l.A)().w(function(e){for(;;)switch(e.n){case 0:if(p=t.keyword,h=t.result_type,f=void 0===h?2:h,g=t.position,m=void 0===g?1:g,y=t.tag,w=void 0===y?"":y,_=t.guideObj,C=(b=void 0===_?{}:_).search_id,S=b.search_cat,T=b.full_name,A=t.clickSearchBtn,I=t.wordTagType,x=void 0===I?"common":I,E=t.wordOriginRecord,R=void 0===E?{}:E,P=t.wordExtraReport,W=t.reportExtendData,w=w||(null==(B=null==p?void 0:p.wordLabel)?void 0:B.labelType)||"",M=(null==p?void 0:p.word)||p,O=encodeURIComponent(M),K=(0,ne.e)({key:"src_identifier"})||"",z=["on","cn","hz","ps","jc"],K?(j=0,$()(U=K.split("`")).call(U,function(e){var t=e.split("=")[0];k()(z).call(z,t)&&j++}),j>1&&sessionStorage.setItem("src_identifier_pre_search",K)):sessionStorage.setItem("src_identifier_pre_search",""),(null==p?void 0:p.pageUrl)?(G=p.pageUrl,q={search_redir:1,search_words:O},2!=(null==p?void 0:p.pageType)&&5!=(null==p?void 0:p.pageType)||(Q=(null==(F=null==p?void 0:p.pageId)?void 0:F.split("/")[1])||"")&&(q.mallCode=Q)):(G="/pdsearch/".concat(O,"/"),q=C?{search_type:"all",search_id:C,search_cat:encodeURIComponent(S||"")}:{search_type:"all"}),Z=8==f?D.value.keywords:M,X={encodeKeyword:O,keyword:p,full_name:T,result_type:f,search_redir:q.search_redir,position:m,originWord:Z,tag:w,wordTagType:x,wordOriginRecord:R,reportExtendData:W,wordExtraReport:P},V=c.getTrackData(X)||{},J={src_module:"search",src_identifier:encodeURIComponent(H()(n=H()(a=H()(r="st=".concat(f,"`sc=")).call(r,Z,"`sr=")).call(a,8==f?M:0,"`ps=")).call(n,m)),src_tab_page_id:(null==(N=window.getSaPageInfo)?void 0:N.tab_page_id)||"",search_source:et(f),src_identifier_pre_search:encodeURIComponent(sessionStorage.getItem("src_identifier_pre_search"))},!(Y=/^(?![0-9]+$)(?![a-zA-Z]+$)([0-9A-Za-z]{5}|[0-9A-Za-z]{7})$/).test(p)){e.n=2;break}return e.n=1,v.getMarketingCodeWithBff(p);case 1:ee=e.v,te=ee.hrefTarget,ae=ee.hrefType,te&&"webLink"==ae&&(G=te,J.search_redir=1,J.search_words=p);case 2:Y.test(p)&&(J.market_code="1"),ie=k()(i=[6,9]).call(i,f),oe=5===f,ce=k()(o=[4,7]).call(o,f),ie?q.source="hotWord":oe?q.source="historyWord":ce?q.source="association":A&&(q.source="search"),G=H()(u=H()(d="".concat(G)).call(d,k()(G).call(G,"?")?"&":"?")).call(u,decodeURIComponent((0,re.r)({queryObj:(0,s.A)((0,s.A)((0,s.A)({},q),V),J)})||"")),location.href=L()(G).call(G).replace("@","-");case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e,t,n,a,r,i="";if("store"!==(0,ne.e)({key:"search_type"})&&void 0!==window.gbRawData&&(i=(0,ie.C)({text:(null==(n=null==(t=null==(e=null==window?void 0:window.gbRawData)?void 0:e.results)?void 0:t.cat_info)?void 0:n.keywords)||(null==(r=null==(a=null==window?void 0:window.gbRawData)?void 0:a.cat_info)?void 0:r.keywords)})),i){var o=(0,ne.e)({key:"search_id"}),c=(0,ne.e)({key:"search_cat"});D.value=o?{keywords:i,guideObj:{keywords:i,search_id:o,search_cat:c,full_name:j({keyword:i,searchCatName:c})}}:{keywords:i}}},me=function(){c.isBigSearch&&(x.value=!0)},ye=function(e){var t=c.lang,n=JSON.parse(localStorage.getItem("".concat(t,"SearchHisotryWords"))||"[]");Z()(n).call(n,e,1),ke(n),C.value.length||me(),localStorage.setItem("".concat(t,"SearchHisotryWords"),I()(n)),f("clearCurSearchWord",e)},_e=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=((null==(e=location.pathname)?void 0:e.match(/.+-p-((\d+))(-cat-(\d+))?\.html/))||[])[1];Q({goods_id:n},t)};(0,V.nT)(function(){var e;if("undefined"!=typeof window){var t=((null==(e=location.pathname)?void 0:e.match(/.+-p-((\d+))(-cat-(\d+))?\.html/))||[])[1];Q({goods_id:t},c.fetchSearchTermsParams||{})}});var ke=function(e){if(F()(e)&&e.length){var t=M()(e).call(e,function(e){return qe(e)?(e.guideObj.full_name=j({keyword:e.keywords,searchCatName:e.guideObj.search_cat}),e):{keywords:e}});C.value=t}else C.value=[]},Se=function(e){var t=[];try{t=JSON.parse(localStorage.getItem("".concat(e,"SearchHisotryWords"))||"[]")}catch(n){}ke(t)};(0,V.sV)(function(){var e=c.lang;se(),Qe(e),Se(e),ge()}),(0,V.wB)(D,function(e){var t;if(e&&e.keywords&&L()(t=e.keywords).call(t)){if(m.value=!0,R.value.isSelectByKeyboard)return;R.value.lastEditType="",e.guideObj&&e.keywords!==e.guideObj.keywords&&delete e.guideObj}else R.value.isSelectByKeyboard=!1,R.value.itemActiveIndex=-1,B.value={guideWords:[],word:[]},W.value="",delete e.guideObj},{deep:!0});var Te=(0,V.nI)();n({fetchHotWords:_e,getProxy:function(){return null==Te?void 0:Te.proxy}});var Ae={appConfigs:o,props:c,analysisInstance:d,apis:v,emit:f,inputRef:g,showInput:m,isInputFocused:y,searchButtonRef:w,originWordReportExtendData:_,historyWords:C,defaultWords:S,hotWords:T,hotImages:A,showClearButton:x,currentWord:D,status:R,searchData:P,correctionStr:W,associationWords:B,getKeywordsWithBff:N,getAssociationWordsWithBff:O,transfromAssociationBffData:z,getGuideWordName:j,fetchAssociationWords:G,fetchDefaultHotBff:Q,dealWithWords:J,get subscription(){return Y},set subscription(e){Y=e},initSlideItems:te,handleSearchBoxFocus:function(){m.value=!0,(0,V.dY)(function(){var e;null==(e=g.value)||e.focus()})},handleFocus:function(){y.value||(y.value=!0,R.value.isSelectByKeyboard=!1,f("inputFocus",{activedMask:!0,status:R.value,correctionStr:W.value,associationNum:he.value,searchData:P.value,currentWord:D.value,associationWords:B.value,historyWords:C.value,hotWords:T.value,hotImages:A.value,defaultWords:S.value}))},handleBlur:function(){""===D.value.keywords&&(m.value=!1)},handleKeyDown:function(e){var t=e.keyCode;if(he.value){var n=R.value.itemActiveIndex;if(38==t?(n--,R.value.isSelectByKeyboard=!0):40==t?(n++,R.value.isSelectByKeyboard=!0):13!=t&&(R.value.isSelectByKeyboard=!1,n=-1),R.value.isSelectByKeyboard)if(n>he.value-1&&(n=0),n<=-1&&(n=he.value-1),0==n&&W.value)R.value.lastEditType="correction",D.value={keywords:W.value};else{R.value.lastEditType=de.value?"correction":"popular";var a=B.value.word[n-de.value].keywords;D.value={keywords:a}}R.value.itemActiveIndex=n}},handleClear:function(){var e;D.value={keywords:""},null==(e=g.value)||e.focus(),f("clearSearchTerm")},debounceInput:oe,initEventListeners:se,disabledSearchButton:ue,correctionNum:de,popularNum:pe,associationNum:he,historyHotNum:ve,goSearchPage:fe,handleItemActiveIndex:function(e){R.value.itemActiveIndex=e},handleSearch:function(){var e,t,n,a,r;D.value.keywords?((t=8288===(t=D.value.keywords).charCodeAt(t.length-1)?E()(t).call(t,0,t.length-1):t).length>150&&(t=E()(t).call(t,0,150)),a=1):(t=P.value,n=3,a=q()(r=S.value).call(r,function(e){return e.word===P.value.word})+1);return"correction"==R.value.lastEditType?n=8:"popular"==R.value.lastEditType&&(n=4),D.value.guideObj&&(t=D.value.guideObj.keywords,n=7),t?(t.word||(null==(e=L()(t))?void 0:e.call(t)))&&fe({keyword:qe(t)?t:L()(t).call(t).replace(/\s+/g," "),result_type:n,position:a,guideObj:D.value.guideObj,clickSearchBtn:!0,reportExtendData:_.value}):location.href="/",!1},initSearchDataFromUrl:ge,handleCleanHistoryWord:function(){if(c.isBigSearch)x.value=!1;else if(C.value.length){C.value=[];var e=c.lang;localStorage.removeItem("".concat(e,"SearchHisotryWords"))}},handleCloseClearBtn:me,handleClearCurSearchWord:ye,handleClickHistoryWords:function(e){var t=e.item,n=e.index;!c.isBigSearch||x.value?fe({keyword:t.keywords,result_type:5,position:n+1,guideObj:t.guideObj,wordTagType:null==t?void 0:t.wordTagType}):ye(n)},fetchHotWords:_e,initLocalHistoryWords:ke,initHistoryHotWord:Se,vm:Te,get Icon(){return ce.A},get sui_icon_nav_search_24px(){return le.A},AssociationNew:De,HistoryHotWords:Ge};return h()(Ae,"__isScriptSetup",{enumerable:!1,value:!0}),Ae}}),nt={class:"search-trend-icon search-tag-icon"},at={class:"search-term"},rt={key:1,class:"empty"},it={class:"search-label-front-wrapper"},ot={class:"search-label-front"},ct=["placeholder"],lt={class:"search-content"},st={key:0,class:"association-words-wrapper"},ut={key:1,class:"history-words"};var dt=ke(tt,[["render",function(e,t,n,a,r,i){var o,c,l,s,u,d,p,h,v,f;return(0,V.uX)(),(0,V.CE)("form",{class:(0,J.C4)(["bsc-search-box","search-box-regional",n.isRoundSearch?"search-box-round":""]),onSubmit:(0,Y.D$)(a.handleSearch,["prevent"])},[(0,V.bo)((0,V.Lk)("section",{class:"search-box",tabindex:"0",hidefocus:"true",onFocus:a.handleSearchBoxFocus},[(0,V.Q3)(" 图标icon "),(0,V.bF)(a.Icon,{name:"sui_icon_search_trends_16px",size:"16px",color:"#9462FF",class:"",style:(0,J.Tr)({display:k()(o=["trendword","trendstore"]).call(o,(null==(s=a.searchData.wordLabel)?void 0:s.labelType)||"")?"inline-block":"none"})},null,8,["style"]),(0,V.Q3)(" 图片类型icon "),(0,V.bo)((0,V.Lk)("i",nt,null,512),[[Y.aG,"trend"===(null==(u=a.searchData.wordLabel)?void 0:u.labelType)]]),(0,V.Q3)(" 图标icon "),(0,V.bF)(a.Icon,{class:"search-trend-icon",name:"sui_icon_hot_12px",size:"16px",color:"#F86262",style:(0,J.Tr)({display:"hot"===(null==(d=a.searchData.wordLabel)?void 0:d.labelType)?"inline-block":"none"})},null,8,["style"]),(0,V.Lk)("p",at,[a.searchData.word?((0,V.uX)(),(0,V.CE)("span",{key:0,class:(0,J.C4)({"hk-tag":k()(c=["trendword","trendstore"]).call(c,(null==(p=a.searchData.wordLabel)?void 0:p.labelType)||"")&&a.searchData.word})},(0,J.v_)(a.searchData.word),3)):((0,V.uX)(),(0,V.CE)("span",rt,(0,J.v_)(n.language.SHEIN_KEY_PC_20094),1))]),(0,V.bo)((0,V.Lk)("span",it,[(0,V.Lk)("i",ot,(0,J.v_)(null==(h=a.searchData.wordLabel)?void 0:h.labelFront),1)],512),[[Y.aG,k()(l=["sold","like"]).call(l,(null==(v=a.searchData.wordLabel)?void 0:v.labelType)||"")&&(null==(f=a.searchData.wordLabel)?void 0:f.labelFront)]])],544),[[Y.aG,!a.showInput]]),(0,V.bo)((0,V.Lk)("input",{ref:"inputRef","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.currentWord.keywords=e}),class:"search-input",name:"header-search",type:"search",placeholder:a.searchData.word||n.language.SHEIN_KEY_PC_20094,autocomplete:"off",onFocus:a.handleFocus,onBlur:a.handleBlur,onKeydown:t[1]||(t[1]=function(e){return a.handleKeyDown(e)})},null,40,ct),[[Y.aG,a.showInput],[Y.Jo,a.currentWord.keywords]]),(0,V.bo)((0,V.Lk)("button",{type:"button",class:"clear-button",onClick:(0,Y.D$)(a.handleClear,["stop"])},[(0,V.bF)(a.Icon,{name:"sui_icon_cleanall_16px",size:"16px",style:{"line-height":"1"},color:"var(--bsc-search-clear-color, #959595)"})],512),[[Y.aG,a.currentWord.keywords]]),(0,V.Lk)("button",{ref:"searchButtonRef",type:"button",class:(0,J.C4)(["search-button",a.disabledSearchButton?"disabled":""]),onMousedown:a.handleSearch},[(0,V.bF)(a.sui_icon_nav_search_24px,{size:"24px",color:"var(--bsc-search-icon-color, #fff)"})],34),(0,V.bF)(Y.eB,{name:"sui-animation__selectmenu",persisted:""},{default:(0,V.k6)(function(){return[(0,V.bo)((0,V.Lk)("section",lt,[a.associationNum?((0,V.uX)(),(0,V.CE)("div",st,[(0,V.bF)(a.AssociationNew,{"correction-num":a.correctionNum,"popular-num":a.popularNum,correction:a.correctionStr,"association-words":a.associationWords,"item-active-index":a.status.itemActiveIndex,language:n.language,onGoSearchPage:a.goSearchPage,onOnItemActiveIndex:a.handleItemActiveIndex},null,8,["correction-num","popular-num","correction","association-words","item-active-index","language"])])):a.historyHotNum?((0,V.uX)(),(0,V.CE)("div",ut,[(0,V.bF)(a.HistoryHotWords,{"history-words":a.historyWords,"hot-words":a.hotWords,"hot-images":a.hotImages,"is-big-search":n.isBigSearch,"show-clear-button":a.showClearButton,"association-tag-total":n.associationHKTagOn,onGoSearchPage:a.goSearchPage,onCleanHistoryWord:a.handleCleanHistoryWord,onCloseClearBtn:a.handleCloseClearBtn,onClearCurSearchWord:a.handleClearCurSearchWord,onClickHistoryWords:a.handleClickHistoryWords},null,8,["history-words","hot-words","hot-images","is-big-search","show-clear-button","association-tag-total"])])):(0,V.Q3)("v-if",!0)],512),[[Y.aG,a.isInputFocused]])]}),_:1})],34)}],["__scopeId","data-v-b2161339"],["__file","/builds/PRitxt6n/0/npmjs/shein-aidc/busniness-lib/packages/bs/search-box/laptop/src/components/DefaultSearchBox/DefaultSearchBox.vue"]])},twzR:(e,t,n)=>{n.d(t,{Bd:()=>de,Z6:()=>J,_t:()=>ue,cV:()=>ie,n_:()=>le,qM:()=>Y,v9:()=>se});var a,r,i,o=n("6ARB"),c=n("0rzS"),l=n("7IdM"),s=n("4ZC2"),u=n("ZJZb"),d=n("Cnx2"),p=n("1WM/"),h=n("QMV9"),v=n("qItV"),f=n.n(v),g=n("oK+e"),m=n.n(g),y=n("CtJl"),w=n.n(y),_=n("HJGT"),b=n.n(_),C=n("uiOI"),k=n.n(C),S=n("wG1B"),T=n.n(S),A=n("dWHw"),I=n.n(A),x=n("RHdU"),E=n.n(x),D=n("1SGe"),R=n.n(D),P=n("dijo"),H=n.n(P),W=n("u0uu"),L=n.n(W),B=n("zbRa"),F=n.n(B),N=n("Gm+S"),M=n.n(N),O=n("Mn0D"),K=n.n(O),z=n("RFDR"),U=n("2QGG"),j=n("0mZD"),$=f(),G=function(e){throw TypeError(e)},q=function(e,t,n){return function(e,t,n){return t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==(0,h.A)(t)?t+"":t,n)},Q=function(e,t,n){return t.has(e)||G("Cannot "+n)},Z=function(e,t,n){return Q(e,t,"read from private field"),n?n.call(e):t.get(e)},X=function(e,t,n){return t.has(e)?G("Cannot add the same private member more than once"):t instanceof m()?t.add(e):t.set(e,n)},V=function(){return(0,p.A)(function e(t){(0,d.A)(this,e),this.router=t},[{key:"_resolveUrl",value:function(e){return"string"==typeof e?e:e.query?w()(t="".concat(e.path,"?")).call(t,(0,z.r)({queryObj:e.query})):e.path;var t}},{key:"_matchRoute",value:function(e,t,n){var a,r;try{return!(n||!t||!(null==(a=t.resolve(e).matched)?void 0:a.length)&&!(null==(r=t.resolve(e).route)?void 0:r.matched.length))}catch(i){return!1}}},{key:"push",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this._resolveUrl(e);this._matchRoute(n,this.router,t)?this.router.push(n):location.assign(n)}},{key:"replace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this._resolveUrl(e);this._matchRoute(n,this.router,t)?this.router.replace(n):location.replace(n)}},{key:"back",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(null==(e=this.router)?void 0:e.back)&&!t?this.router.back():history.go(-1)}}])}(),J=function(){return(0,p.A)(function e(){(0,d.A)(this,e),q(this,"collections",{})},[{key:"subscribe",value:function(e,t){this.collections[e]=t}},{key:"describe",value:function(e){delete this.collections[e]}},{key:"trigger",value:function(e,t){var n;b()(n=k()(this.collections)).call(n,function(n){var a;return null==(a=null==n?void 0:n[e])?void 0:a.call(n,t)})}}])}();function Y(e,t){return ee.apply(this,arguments)}function ee(){return(ee=(0,u.A)((0,o.A)().m(function e(t,n){var a,r,i,c,l;return(0,o.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n({url:"/system/configs/multi_language",method:"POST",data:{languageKeys:k()(t)}});case 1:return c=e.v,l=null==(i=null==(r=c.data)?void 0:r.info)?void 0:i.result,e.a(2,T()(a=I()(t)).call(a,function(e,n){return e[n]=(null==l?void 0:l[t[n]])||"",e},{}))}},e)}))).apply(this,arguments)}function te(e){var t,n,a=e.languages,r=void 0===a?{}:a,i=e.langPackages,o=e.appConfigs,c=e.fromInitialize,u=void 0!==c&&c,d=e.baseURL,p=o.$schttp,h=o.$envs,v=o.$language,f=r===v?r:(0,U.Kh)((0,s.A)({},r)),g="undefined"!=typeof window&&!u,m="undefined"!=typeof window||!!h.requestInServer&&!u,y=T()(t=I()(i)).call(t,function(e,t){var n;if(r[t])return e;var a=i[t],o=T()(n=I()(a)).call(n,function(e,t){return e[t]="",e},{});return f[t]=(0,U.Kh)(o),e.push([f[t],a]),e},[]),w=E()(n=R()(y).call(y,function(e){var t=(0,l.A)(e,2)[1];return k()(t)})).call(n);if(!w.length||!m)return{langPool:f};var _={};h.appLanguage&&(_.appLanguage=h.appLanguage);var C=p({url:"/system/configs/multi_language",method:"POST",headers:_,data:{languageKeys:w},baseURL:d}).then(function(e){var t,n;return null==(n=null==(t=e.data)?void 0:t.info)?void 0:n.result}).then(function(e){return b()(y).call(y,function(t){var n,a=(0,l.A)(t,2),r=a[0],i=a[1];b()(n=I()(i)).call(n,function(t){r[t]=(null==e?void 0:e[i[t]])||""})}),f});return g&&H()(v,f),{request:C,langPool:f}}function ne(e){return this.$getters.replaceCcySymbols?(0,j.X)(e):e}function ae(e,t,n,a){var r="";return"undefined"!=typeof window||t.requestInServer?a||(r="".concat(e," is missing, checkout your initialize configs")):r="should not run ".concat(e," in server environment"),!r}function re(e,t){var n,a,r,i,o,l=null!==(n=e.baseURL)&&void 0!==n?n:t.requestInServer?"":"".concat(t.langPath,"/bff-api");return(null==(a=(e=(0,s.A)((0,s.A)({},e),{},{baseURL:l,headers:(0,s.A)((0,c.A)((0,c.A)((0,c.A)({},"bff-env",t.bffEnv||""),"webVersion",t.webVersion||""),"x-requested-with","XMLHttpRequest"),e.headers),__fromBSLibs__:!0})).headers)?void 0:a["bff-env"])||null==(r=e.headers)||delete r["bff-env"],(null==(i=e.headers)?void 0:i.webVersion)||null==(o=e.headers)||delete o.webVersion,e}function ie(e,t){return function(n){var a=n.isAsync,r=n.opt,i=n.successCb,o=n.errorCb,c=n.completeCb;a?e((0,s.A)({},r)).then(function(e){i&&i(e)}).catch(function(e){o&&o(e)}).finally(function(){c&&c()}):t((0,s.A)((0,s.A)({},r),{},{success:function(e){i&&i(e)},error:function(e){o&&o(e)},complete:function(e){c&&c(e)}}))}}var oe=function(){return(0,p.A)(function e(){(0,d.A)(this,e),X(this,a,{}),X(this,r,{}),X(this,i,!1)},[{key:"appConfigs",get:function(){return Z(this,a)}},{key:"proxyHosts",get:function(){return Z(this,r)}},{key:"_initializeSui",value:function(e,t){var n,r,i;(null==(n=null==t?void 0:t.version)?void 0:F()(n).call(n,"2.7."))?(Z(this,a).vueVersion=2,t.prototype.$SHEIN={lang:e.lang,siteUID:e.siteUID,appLanguage:e.appLanguage,cssRight:e.cssRight,webClient:"shein",isRomwe:!1}):(null==(r=null==t?void 0:t.version)?void 0:F()(r).call(r,"3."))&&(Z(this,a).vueVersion=3,(null==(i=t.config)?void 0:i.globalProperties)&&(t.config.globalProperties.$SHEIN={mir:e.cssRight?"rtl":"ltr",brd:"sh"}))}},{key:"_buildGetters",value:function(e){var t;return T()(t=I()(e)).call(t,function(t,n){return f()(t,n,{get:e[n]}),t},{})}},{key:"initialize",value:function(e,t){var n,r,o,c,l,u=e.envs,d=e.getters,p=e.languages,h=e.langPackages,v=void 0===h?{}:h,f=e.schttp,g=e.schttpSync,m=e.router;if("undefined"!=typeof window){if(Z(this,i))return;u.requestInServer=!1}this._initializeSui(u,t),Z(this,a).$envs=(0,s.A)({},u),Z(this,a).$getters=this._buildGetters(d),Z(this,a).$router=new V(m),Z(this,a).$originSchttp=f,Z(this,a).$utils=(n=Z(this,a),{replaceCurrencySymbols:L()(ne).call(ne,n)}),Z(this,a).$schttp=function(e,t){return function(n){if(!ae("$schttp",t,0,e))throw new Error("_ensureEnvironment");return e(re(n,t))}}(f,u),Z(this,a).$schttpSync=function(e,t){return function(n){if(!ae("$schttpSync",t,0,e))throw new Error("_ensureEnvironment");return e(re(n,t))}}(g,u),Z(this,a).$schttpInOne=ie(Z(this,a).$schttp,Z(this,a).$schttpSync),Z(this,a).$language=te({languages:p,langPackages:v,appConfigs:Z(this,a),fromInitialize:!0}).langPool,c=!0,Q(r=this,o=i,"write to private field"),l?l.call(r,c):o.set(r,c)}},{key:"assignGlobalEventProxyHost",value:function(e,t){Z(this,r)[e]=t}}])}();a=new(M()),r=new(M()),i=new(M());var ce=K().__LibsManager__||(K().__LibsManager__=new oe);function le(e,t){ce.initialize(e,t)}function se(e,t){ce.assignGlobalEventProxyHost(e,t)}function ue(){return ce.appConfigs}function de(){return ce.proxyHosts}},yY5s:(e,t,n)=>{n.d(t,{q:()=>C});var a=n("4ZC2"),r=n("6ARB"),i=n("ZJZb"),o=n("Cnx2"),c=n("1WM/"),l=n("cBFb"),s=n("EWoo"),u=n("dWHw"),d=n.n(u),p=n("wG1B"),h=n.n(p),v=n("CtJl"),f=n.n(v),g=n("u0uu"),m=n.n(g),y=n("zbtp"),w=(0,n("twzR")._t)(),_=function(e){function t(){return(0,o.A)(this,t),(0,l.A)(this,t,["initial"])}return(0,s.A)(t,e),(0,c.A)(t,[{key:"addSubscribe",value:function(e,t){var n;if(t&&d()(t).length&&(null==t||t.eId),!t||!t.eId)return this.addSubscriberObject(e),this._createAnalysisIns();var a=h()(n=d()(e)).call(n,function(n,a){var o,c,l,s=f()(o="".concat(a,".")).call(o,t.eId),u=(null==(c=t.overrides)?void 0:c[a])||e[a],d=null==(l=t.beforeSend)?void 0:l[a];return d||t.handler?n[s]=(0,i.A)((0,r.A)().m(function e(){var n,a,i=arguments;return(0,r.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,u.apply(void 0,i);case 1:if(n=e.v,!d){e.n=3;break}return e.n=2,d(n);case 2:a=e.v,e.n=4;break;case 3:a=n;case 4:if(n=a,!t.handler){e.n=5;break}return t.handler(n),e.a(2,null);case 5:return e.a(2,n)}},e)})):n[s]=u,n},{});return this.addSubscriberObject(a),this._createAnalysisIns(t.eId)}},{key:"_createAnalysisIns",value:function(e){var t,n,r,i=this;if(!e)return this.saDirectives||(this.saDirectives=(0,y.Zh)(this,{vueVersion:w.vueVersion})),{eId:void 0,vTap:this.saDirectives.tap,vExpose:this.saDirectives.expose,triggerNotice:m()(n=this.triggerNotice).call(n,this),getExposeInstance:m()(r=this.getExposeInstance).call(r,this)};var o=(0,y.Zh)(this,{vueVersion:w.vueVersion,eId:e}),c=o.tap,l=o.expose;return{eId:e,vTap:c,vExpose:l,triggerNotice:function(t){var n;i.triggerNotice((0,a.A)((0,a.A)({},t),{},{id:f()(n="".concat(null==t?void 0:t.id,".")).call(n,e)}))},getExposeInstance:m()(t=this.getExposeInstance).call(t,this)}}}])}(y.zQ),b="undefined"!=typeof window?window.__LibsDaEventCenter__||(window.__LibsDaEventCenter__=new _):null;function C(e,t){return b?b.addSubscribe(e,t):{eId:void 0,vTap:{},vExpose:{},triggerNotice:function(){},getExposeInstance:function(){}}}}}]);
//# sourceMappingURL=https://shein-static.dev-az.sheincorp.cn/sheinh5/ark/ark/client/js/shein-bs-vendors-62545772.98e6401.js.map